(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&n(p)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function qt(e,r){let{x:t,y:n,xSpeed:a,ySpeed:o}=r;t+=a,n+=o,(t+50>window.innerWidth||t<0)&&(a=-a),(n+50>window.innerHeight||n<0)&&(o=-o),e.style.left=t+"px",e.style.top=n+"px",requestAnimationFrame(()=>qt(e,{x:t,y:n,xSpeed:a,ySpeed:o}))}var K=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function na(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var t=function n(){if(this instanceof n){var a=[null];a.push.apply(a,arguments);var o=Function.bind.apply(r,a);return new o}return r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),t}var Xt={},ke={},gr={},ae={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.Err=Ne.Ok=void 0;function On(e){if(!this.ok){if(typeof this.error=="string"||typeof this.error>"u"){const r="There was an error! No specific error message was provided.";throw new Error(e||this.error||r)}throw e&&(this.error.message=e),this.error}return this.data}function Tn(e){return this.ok?this.data:e(this.error)}function An(e){return this.ok?this.data:e}function In(e){this.ok&&e(this.data)}function aa(e){return{ok:!0,data:e,throw:On,else:Tn,or:An,and:In}}Ne.Ok=aa;function ia(e){return{ok:!1,error:e,throw:On,else:Tn,or:An,and:In}}Ne.Err=ia;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Err=e.Ok=void 0;var r=Ne;Object.defineProperty(e,"Ok",{enumerable:!0,get:function(){return r.Ok}}),Object.defineProperty(e,"Err",{enumerable:!0,get:function(){return r.Err}})})(ae);var Dn={},mr={},te={};Object.defineProperty(te,"__esModule",{value:!0});te.VariableType=te.Milliseconds=te.Environment=void 0;let oa=function(e){return e.Production="production",e.Staging="staging",e.Development="development",e}({});te.Environment=oa;let sa=function(e){return e.BOOLEAN="BOOLEAN",e.NUMBER="NUMBER",e.STRING="STRING",e.JSON="JSON",e}({});te.VariableType=sa;let ua=function(e){return e[e.Second=1e3]="Second",e[e.Minute=60*e.Second]="Minute",e[e.Hour=60*e.Minute]="Hour",e}({});te.Milliseconds=ua;Object.defineProperty(mr,"__esModule",{value:!0});mr.CacheManager=void 0;var p0=te;function Zr(e,r,t){return r=ca(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ca(e){var r=fa(e,"string");return typeof r=="symbol"?r:String(r)}function fa(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class la{constructor(r){Zr(this,"cacheMap",new Map),Zr(this,"intervalId",null),Zr(this,"cleanupTimeout",void 0),this.cleanupTimeout=r*p0.Milliseconds.Second}add({key:r,data:t,lifetime:n}){this.intervalId===null&&this.activate();const a=n*p0.Milliseconds.Second,o={data:t,expirationTime:Date.now()+a};this.cacheMap.set(r,o)}getAliveItem(r){const t=this.cacheMap.get(r);return t&&t.expirationTime>=Date.now()?t.data:(t&&this.cacheMap.delete(r),null)}activate(){this.intervalId=setInterval(()=>{const r=Date.now();for(const[t,n]of this.cacheMap)n.expirationTime<r&&this.cacheMap.delete(t);this.cacheMap.size||this.cleanupInterval()},this.cleanupTimeout)}cleanupInterval(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}}mr.CacheManager=la;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AddParametersType",{enumerable:!0,get:function(){return t.AddParametersType}}),Object.defineProperty(e,"CacheManager",{enumerable:!0,get:function(){return r.CacheManager}});var r=mr,t=Rn})(Dn);var Qt={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.RuleType=ce.FeatureStatus=ce.FeatureFlagSdkLanguageType=ce.ExperimentType=ce.ExperimentStatus=void 0;let va=function(e){return e.CLASSIC="CLASSIC",e.SERVER_SIDE="SERVER_SIDE",e.DEVELOPER="DEVELOPER",e.MVT="MVT",e.HYBRID="HYBRID",e}({});ce.ExperimentType=va;let da=function(e){return e.PROGRESSIVE_DELIVERY="PROGRESSIVE_DELIVERY",e.TARGETED_DELIVERY="TARGETED_DELIVERY",e.EXPERIMENTATION="EXPERIMENTATION",e}({});ce.RuleType=da;let xa=function(e){return e.ANDROID="ANDROID",e.SWIFT="SWIFT",e.JAVA="JAVA",e.CSHARP="CSHARP",e.NODEJS="NODEJS",e.PHP="PHP",e.RUBY="RUBY",e.GO="GO",e.FLUTTER="FLUTTER",e.REACTJS="REACTJS",e}({});ce.FeatureFlagSdkLanguageType=xa;let ha=function(e){return e.ACTIVATED="ACTIVATED",e.DEACTIVATED="DEACTIVATED",e.SCHEDULED="SCHEDULED",e}({});ce.FeatureStatus=ha;let pa=function(e){return e.DRAFT="DRAFT",e.ACTIVE="ACTIVE",e.PAUSED="PAUSED",e.SCHEDULED="SCHEDULED",e.STOPPED="STOPPED",e.USED_AS_PERSONALIZATION="USED_AS_PERSONALIZATION",e.DEVIATED="DEVIATED",e}({});ce.ExperimentStatus=pa;var _r={},_e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.SESSION_DURATION=_e.DEFAULT_CAMPAIGN_CONFIGURATION=_e.CLEANUP_TARGETING_DATA_INTERVAL=void 0;var ga=te;const ma=30;_e.CLEANUP_TARGETING_DATA_INTERVAL=ma;const _a=30*ga.Milliseconds.Minute;_e.SESSION_DURATION=_a;const ba={targetingData:{},configurationData:{experiments:[],featureFlags:[],configuration:{realTimeUpdate:!1}}};_e.DEFAULT_CAMPAIGN_CONFIGURATION=ba;var Zt={},wn={};Object.defineProperty(wn,"__esModule",{value:!0});var br={},be={},yr={},ye={},Er={},Cr={},Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.KameleoonException=void 0;let ya=function(e){return e.ExperimentConfigurationNotFound="ExperimentConfigurationNotFound",e.EventSourceInitialization="EventSourceInitialization",e.VariationNotFound="VariationNotFound",e.FeatureFlagConfigurationNotFound="FeatureFlagConfigurationNotFound",e.NotTargeted="NotTargeted",e.NotAllocated="NotAllocated",e.VisitorCodeMaxLength="VisitorCodeMaxLength",e.StorageInitialization="StorageInitialization",e.StorageWrite="StorageWrite",e.StorageRead="StorageRead",e.StorageParse="StorageParse",e.ClientConfiguration="ClientConfiguration",e.TargetingCondition="TargetingCondition",e.AmongValuesCheck="AmongValuesCheck",e.Initialization="Initialization",e.JSONParse="JSONParse",e.NumberParse="NumberParse",e.RemoteData="RemoteData",e}({});Ue.KameleoonException=ya;Object.defineProperty(Cr,"__esModule",{value:!0});Cr.ERROR_MESSAGES=void 0;var W=Ue;const Ea={[W.KameleoonException.JSONParse]:e=>`Couldn't parse JSON variable: ${e}`,[W.KameleoonException.NumberParse]:e=>`It's not possible to parse value ${e} to Number`,[W.KameleoonException.Initialization]:()=>"It seems that the client wasn't properly initialized, make sure to run `initialize` method before invoking other methods",[W.KameleoonException.StorageInitialization]:()=>"There was an error while initializing React Native SDK storage, it seems that the storage library dependency wasn't installed",[W.KameleoonException.EventSourceInitialization]:()=>"There was an error while initializing Real Time Update service, it seems that the event source library dependency wasn't installed",[W.KameleoonException.VariationNotFound]:()=>"Couldn't find experiment variation",[W.KameleoonException.FeatureFlagConfigurationNotFound]:(e,r)=>`No feature flag with key ${e} was found for ${r} visitorCode.`,[W.KameleoonException.ExperimentConfigurationNotFound]:(e,r)=>`No experiment with id ${e} was found for ${r} visitorCode.`,[W.KameleoonException.NotTargeted]:e=>`Visitor code ${e} is not targeted`,[W.KameleoonException.NotAllocated]:e=>`Visitor with visitor code ${e} is in unallocated traffic, there is no variation id to be assigned to the visitor.`,[W.KameleoonException.VisitorCodeMaxLength]:()=>"Visitor code can not be more than 255 characters long",[W.KameleoonException.StorageWrite]:e=>`Couldn't update storage for kameleoonClient: ${e}`,[W.KameleoonException.StorageRead]:e=>`No data found in storage under ${e} key`,[W.KameleoonException.StorageParse]:(e,r)=>`Couldn't parse ${r} storage data, the data may be corrupted. Error: ${e}`,[W.KameleoonException.ClientConfiguration]:()=>"Couldn't retrieve client configuration from Kameleoon Api",[W.KameleoonException.TargetingCondition]:e=>`${e} targeting condition is not yet supported.`,[W.KameleoonException.AmongValuesCheck]:(e,r)=>`Couldn't parse value "${r}": ${e}`,[W.KameleoonException.RemoteData]:()=>"Couldn't retrieve data from Kameleoon server"};Cr.ERROR_MESSAGES=Ea;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.exhaustCheck=Ca;function Ca(e){throw new Error(`Reaching an impossible state because of ${e}`)}Object.defineProperty(Er,"__esModule",{value:!0});Er.KameleoonError=void 0;var de=Cr,Sa=Sr,Y=Ue;function Pa(e,r,t){return r=Oa(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Oa(e){var r=Ta(e,"string");return typeof r=="symbol"?r:String(r)}function Ta(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Aa extends Error{constructor(r,t,n){switch(super(`Error: ${r}`),Pa(this,"errorType",void 0),this.name="KameleoonError",this.errorType=r,r){case Y.KameleoonException.Initialization:case Y.KameleoonException.ClientConfiguration:case Y.KameleoonException.VisitorCodeMaxLength:case Y.KameleoonException.StorageInitialization:case Y.KameleoonException.VariationNotFound:case Y.KameleoonException.EventSourceInitialization:case Y.KameleoonException.RemoteData:this.message=de.ERROR_MESSAGES[r]();break;case Y.KameleoonException.NotAllocated:case Y.KameleoonException.NotTargeted:this.message=de.ERROR_MESSAGES[r](t);break;case Y.KameleoonException.ExperimentConfigurationNotFound:this.message=de.ERROR_MESSAGES[r](t,n);break;case Y.KameleoonException.FeatureFlagConfigurationNotFound:this.message=de.ERROR_MESSAGES[r](t,n);break;case Y.KameleoonException.StorageWrite:case Y.KameleoonException.JSONParse:this.message=de.ERROR_MESSAGES[r](t);break;case Y.KameleoonException.StorageRead:this.message=de.ERROR_MESSAGES[r](t);break;case Y.KameleoonException.StorageParse:this.message=de.ERROR_MESSAGES[r](t,n);break;case Y.KameleoonException.TargetingCondition:this.message=de.ERROR_MESSAGES[r](t);break;case Y.KameleoonException.NumberParse:this.message=de.ERROR_MESSAGES[r](t);break;case Y.KameleoonException.AmongValuesCheck:this.message=de.ERROR_MESSAGES[r](t,n);break;default:(0,Sa.exhaustCheck)(r)}}get type(){return this.errorType}}Er.KameleoonError=Aa;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"KameleoonError",{enumerable:!0,get:function(){return r.KameleoonError}}),Object.defineProperty(e,"KameleoonException",{enumerable:!0,get:function(){return t.KameleoonException}}),Object.defineProperty(e,"exhaustCheck",{enumerable:!0,get:function(){return n.exhaustCheck}});var r=Er,t=Ue,n=Sr})(ye);var J={};Object.defineProperty(J,"__esModule",{value:!0});J.UrlTracking=J.UrlQuery=J.UrlParameter=J.UrlEventType=J.URL=J.Header=void 0;let Ia=function(e){return e.UserAgent="User-Agent",e}({});J.Header=Ia;const g0="com",m0="io",Da={CustomData:"eventType=customData",StaticData:"eventType=staticData",Page:"eventType=page",Conversion:"eventType=conversion",Activity:"eventType=activity",Experiment:"eventType=experiment"};J.UrlEventType=Da;const Ra={Title:"&title=",ReferrersIndices:"&referrersIndices=",Negative:"&negative=",Revenue:"&revenue=",Overwrite:"&overwrite=",Index:"&index=",BrowserIndex:"&browserIndex=",Href:"&href=",DeviceType:"&deviceType=",SiteCode:"&siteCode=",GoalId:"&goalId=",VisitorCode:"&visitorCode=",Environment:"&environment=",VariationId:"&variationId=",Ts:"&ts=",Key:"&key=",SdkName:"&sdkName=",SdkVersion:"&sdkVersion=",ValuesCountMap:"&valuesCountMap=",Nonce:"&nonce=",Id:"&id="};J.UrlParameter=Ra;const Wt={Sse:"sse?siteCode=",Mobile:"mobile?siteCode=",Map:"map?siteCode=",Events:"events?siteCode="};J.UrlQuery=Wt;const Yt={Visit:"visit/",Map:"map/"};J.UrlTracking=Yt;const wa={EVENTS:`https://events.kameleoon.${g0}:8110/`,TRACKING:`https://data.kameleoon.${m0}/${Yt.Visit+Wt.Events}`,DATA:`https://data.kameleoon.${m0}/${Yt.Map+Wt.Map}`,CLIENT_CONFIGURATION:`https://client-config.kameleoon.${g0}/`};J.URL=wa;var ge={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.HEX_CHARACTERS=void 0;const Na="0123456789ABCDEF";Pr.HEX_CHARACTERS=Na;Object.defineProperty(ge,"__esModule",{value:!0});ge.Nonce=void 0;var _0=Pr;function ka(e,r,t){return r=Ua(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ua(e){var r=Ba(e,"string");return typeof r=="symbol"?r:String(r)}function Ba(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Ka{constructor(){ka(this,"nonce",void 0),this.nonce=this.getNonce()}getNonce(){const r=_0.HEX_CHARACTERS.length;let t="";for(let n=0;n<r;n++){const a=Math.floor(Math.random()*r);t+=_0.HEX_CHARACTERS.substring(a,a+1)}return t}}ge.Nonce=Ka;Object.defineProperty(yr,"__esModule",{value:!0});yr.Requester=void 0;var sr=ae,ur=ye,X=J,ja=ge;function cr(e,r,t){return r=Va(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Va(e){var r=Ma(e,"string");return typeof r=="symbol"?r:String(r)}function Ma(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Ha extends ja.Nonce{constructor({siteCode:r,environment:t,packageInfo:n,requestDispatcher:a}){super(),cr(this,"siteCode",void 0),cr(this,"environment",void 0),cr(this,"requestDispatcher",void 0),cr(this,"packageInfo",void 0),this.requestDispatcher=a,this.siteCode=r,this.environment=t,this.packageInfo=n}async getClientConfiguration(r){const t=this.environment?X.UrlParameter.Environment+this.environment:"",n=r?X.UrlParameter.Ts+r:"",a=X.URL.CLIENT_CONFIGURATION+X.UrlQuery.Mobile+this.siteCode+t+n,o=await this.requestDispatcher.get(a);return o?(0,sr.Ok)(o):(0,sr.Err)(new ur.KameleoonError(ur.KameleoonException.ClientConfiguration))}async getRemoteData(r){const t=X.URL.DATA+this.siteCode+X.UrlParameter.Key+encodeURI(r),n=await this.requestDispatcher.get(t);return n?(0,sr.Ok)(n):(0,sr.Err)(new ur.KameleoonError(ur.KameleoonException.RemoteData))}async trackExperiment({variationId:r,visitorCode:t,experimentId:n,isUnallocated:a,body:o,userAgent:p,callback:c}){const f=this.getTrackingUrl(t),i=o?"":X.UrlEventType.Activity+X.UrlParameter.Nonce+this.nonce,s=a?i:X.UrlEventType.Experiment+X.UrlParameter.Id+n+X.UrlParameter.VariationId+r+X.UrlParameter.Nonce+this.nonce,g=s?o+`
`+s:o,u=p?{[X.Header.UserAgent]:p}:void 0;await this.requestDispatcher.track({url:f,headers:u,body:g})&&c&&c()}async trackData({visitorCode:r,body:t,userAgent:n}){const a=this.getTrackingUrl(r),o=n?{[X.Header.UserAgent]:n}:void 0;this.requestDispatcher.track({url:a,headers:o,body:t})}getTrackingUrl(r){const{type:t,version:n}=this.packageInfo;return X.URL.TRACKING+this.siteCode+X.UrlParameter.VisitorCode+encodeURIComponent(r)+X.UrlParameter.SdkName+t+X.UrlParameter.SdkVersion+n}}yr.Requester=Ha;var Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.HttpMethod=void 0;let Fa=function(e){return e.Get="GET",e.Post="POST",e}({});Or.HttpMethod=Fa;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GetClientConfigurationResultType",{enumerable:!0,get:function(){return n.GetClientConfigurationResultType}}),Object.defineProperty(e,"Header",{enumerable:!0,get:function(){return t.Header}}),Object.defineProperty(e,"HttpMethod",{enumerable:!0,get:function(){return n.HttpMethod}}),Object.defineProperty(e,"IExternalRequestDispatcher",{enumerable:!0,get:function(){return n.IExternalRequestDispatcher}}),Object.defineProperty(e,"Requester",{enumerable:!0,get:function(){return r.Requester}}),Object.defineProperty(e,"TrackExperimentParamsType",{enumerable:!0,get:function(){return n.TrackExperimentParamsType}}),Object.defineProperty(e,"TrackParametersType",{enumerable:!0,get:function(){return n.TrackParametersType}}),Object.defineProperty(e,"URL",{enumerable:!0,get:function(){return t.URL}}),Object.defineProperty(e,"UrlEventType",{enumerable:!0,get:function(){return t.UrlEventType}}),Object.defineProperty(e,"UrlParameter",{enumerable:!0,get:function(){return t.UrlParameter}});var r=yr,t=J,n=Or})(be);var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.REAL_TIME_EVENT=void 0;const $a="configuration-update-event";Ze.REAL_TIME_EVENT=$a;Object.defineProperty(br,"__esModule",{value:!0});br.ExternalEventSource=void 0;var La=be,Ga=J,za=Ze;function b0(e,r,t){return r=qa(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function qa(e){var r=Wa(e,"string");return typeof r=="symbol"?r:String(r)}function Wa(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}let Ya=class{constructor(r,t){b0(this,"eventSource",void 0),b0(this,"siteCode",void 0);const n=La.URL.EVENTS+Ga.UrlQuery.Sse+r,a=t.initialize(n);this.eventSource=a,this.siteCode=r}open(r){this.eventSource.open({onEvent:r,siteCode:this.siteCode,eventType:za.REAL_TIME_EVENT})}close(){this.eventSource.close()}};br.ExternalEventSource=Ya;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"EventSourceOpenParametersType",{enumerable:!0,get:function(){return r.EventSourceOpenParametersType}}),Object.defineProperty(e,"ExternalEventSource",{enumerable:!0,get:function(){return t.ExternalEventSource}}),Object.defineProperty(e,"IEventSource",{enumerable:!0,get:function(){return t.IEventSource}}),Object.defineProperty(e,"IExternalEventSource",{enumerable:!0,get:function(){return r.IExternalEventSource}}),Object.defineProperty(e,"IExternalEventSourceConstructor",{enumerable:!0,get:function(){return r.IExternalEventSourceConstructor}}),Object.defineProperty(e,"REAL_TIME_EVENT",{enumerable:!0,get:function(){return n.REAL_TIME_EVENT}}),Object.defineProperty(e,"RealTimeEventType",{enumerable:!0,get:function(){return r.RealTimeEventType}});var r=wn,t=br,n=Ze})(Zt);Object.defineProperty(_r,"__esModule",{value:!0});_r.CampaignConfiguration=void 0;var y0=ae,Jr=_e,Xa=Zt,Qa=te;function E0(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Za(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?E0(Object(t),!0).forEach(function(n){ue(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E0(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ue(e,r,t){return r=Ja(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ja(e){var r=ei(e,"string");return typeof r=="symbol"?r:String(r)}function ei(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class ri{constructor({settings:r,storage:t,requester:n,externalClientConfiguration:a,targetingCleanupInterval:o}){if(ue(this,"configurationUpdateCallback",void 0),ue(this,"updateConfigurationIntervalId",null),ue(this,"targetingDataIntervalId",null),ue(this,"unsentTargetingData",{}),ue(this,"targetingData",Jr.DEFAULT_CAMPAIGN_CONFIGURATION.targetingData),ue(this,"configurationData",Jr.DEFAULT_CAMPAIGN_CONFIGURATION.configurationData),ue(this,"settings",void 0),ue(this,"lastUpdate",void 0),ue(this,"storage",void 0),ue(this,"requester",void 0),ue(this,"eventSource",void 0),ue(this,"externalClientConfiguration",void 0),this.requester=n,this.settings=r,this.lastUpdate=new Date,this.storage=t,this.readStorageData(),this.externalClientConfiguration=a,o){const p=o<0?1:o;try{this.targetingDataIntervalId=setInterval(()=>this.cleanupOutdatedTargetingData.call(this,this.targetingData),p*Qa.Milliseconds.Minute)}catch(c){throw this.targetingDataIntervalId&&clearInterval(this.targetingDataIntervalId),c}}}async initialize(r){if(this.checkShouldUpdate()){const n=await this.updateClientConfiguration();if(!n.ok)return n}if(this.configurationData.configuration.realTimeUpdate&&!this.externalClientConfiguration){this.updateConfigurationIntervalId&&clearInterval(this.updateConfigurationIntervalId),this.eventSource=new Xa.ExternalEventSource(this.settings.siteCode,r);const n=a=>{this.updateClientConfiguration(),this.configurationUpdateCallback&&this.configurationUpdateCallback()};this.eventSource.open(n)}else{this.eventSource&&this.eventSource.close(),this.updateConfigurationIntervalId&&clearInterval(this.updateConfigurationIntervalId);try{this.updateConfigurationIntervalId=setInterval(this.updateClientConfiguration.bind(this),this.settings.updateInterval)}catch(n){throw this.updateConfigurationIntervalId&&clearInterval(this.updateConfigurationIntervalId),n}}return(0,y0.Ok)()}addTargetingData(r,...t){r in this.targetingData||(this.targetingData[r]=[]),t.forEach(a=>{this.targetingData[r].push({data:a.data,lastActivityTime:Date.now()})});const n=this.updateStorageData(this.lastUpdate);return n.ok&&t.forEach(a=>{this.unsentTargetingData[r]||(this.unsentTargetingData[r]=[]),this.unsentTargetingData[r].push(a)}),n}getUnsentData(r){const t=this.unsentTargetingData[r];return t||[]}clearUnsentData(r){this.unsentTargetingData[r]=[]}onConfigurationUpdate(r){this.configurationUpdateCallback=r}get storedTargetingData(){return this.targetingData}get experiments(){return this.configurationData.experiments}get featureFlags(){return this.configurationData.featureFlags}get configuration(){return this.configurationData.configuration}checkShouldUpdate(){const{featureFlags:r,experiments:t,configuration:n}=this.configurationData,{updateInterval:a}=this.settings;if(!r.length&&!t.length||n.realTimeUpdate)return!0;const o=this.lastUpdate.getTime(),p=Date.now()-a;return o<p}cleanupOutdatedTargetingData(r){const t=Date.now(),n=Za({},r);for(const[a,o]of Object.entries(n))if(o){const p=o.filter(c=>c.lastActivityTime+Jr.SESSION_DURATION<t);n[a]=p}else n[a]=[];this.targetingData=n,this.updateStorageData(this.lastUpdate).throw()}readStorageData(){const r=this.storage.read();if(r.ok){const{kameleoonTargetingData:t,kameleoonConfiguration:n,lastUpdate:a}=r.data;this.configurationData=n,this.targetingData=t,this.lastUpdate=new Date(Date.parse(a))}}async updateClientConfiguration(r){if(this.externalClientConfiguration){const{configuration:n,experiments:a,featureFlagConfigurations:o}=this.externalClientConfiguration;this.configurationData={configuration:n,experiments:a,featureFlags:o}}else{const n=await this.requester.getClientConfiguration(r);if(!n.ok)return n;const{configuration:a,experiments:o,featureFlagConfigurations:p}=n.data;this.configurationData={configuration:a,experiments:o,featureFlags:p}}const t=this.updateStorageData(new Date);return t.ok?(0,y0.Ok)(!0):t}updateStorageData(r){const t={kameleoonTargetingData:this.targetingData,kameleoonConfiguration:this.configurationData,lastUpdate:r.toString()};return this.storage.write(t)}}_r.CampaignConfiguration=ri;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"CLEANUP_TARGETING_DATA_INTERVAL",{enumerable:!0,get:function(){return n.CLEANUP_TARGETING_DATA_INTERVAL}}),Object.defineProperty(e,"CampaignConfiguration",{enumerable:!0,get:function(){return t.CampaignConfiguration}}),Object.defineProperty(e,"CampaignConfigurationType",{enumerable:!0,get:function(){return r.CampaignConfigurationType}}),Object.defineProperty(e,"ConfigurationDataType",{enumerable:!0,get:function(){return r.ConfigurationDataType}}),Object.defineProperty(e,"ExperimentItemType",{enumerable:!0,get:function(){return r.ExperimentItemType}}),Object.defineProperty(e,"FeatureFlagType",{enumerable:!0,get:function(){return r.FeatureFlagType}}),Object.defineProperty(e,"FeatureVariableType",{enumerable:!0,get:function(){return r.FeatureVariableType}}),Object.defineProperty(e,"JSONType",{enumerable:!0,get:function(){return r.JSONType}}),Object.defineProperty(e,"JSONValue",{enumerable:!0,get:function(){return r.JSONValue}}),Object.defineProperty(e,"RespoolTimeType",{enumerable:!0,get:function(){return r.RespoolTimeType}}),Object.defineProperty(e,"RuleItemType",{enumerable:!0,get:function(){return r.RuleItemType}}),Object.defineProperty(e,"RuleType",{enumerable:!0,get:function(){return r.RuleType}}),Object.defineProperty(e,"VariationByExpositionType",{enumerable:!0,get:function(){return r.VariationByExpositionType}});var r=ce,t=_r,n=_e})(Qt);var Nn={},Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.ClientSettings=void 0;var et=te;function rt(e,r,t){return r=ti(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ti(e){var r=ni(e,"string");return typeof r=="symbol"?r:String(r)}function ni(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class ai{constructor(r,t){rt(this,"updateInterval",30*et.Milliseconds.Minute),rt(this,"environment",void 0),rt(this,"siteCode",void 0),this.siteCode=r,t!=null&&t.environment&&(this.environment=t.environment),t!=null&&t.updateInterval&&(t.updateInterval<1&&(this.updateInterval=1*et.Milliseconds.Minute),this.updateInterval=t.updateInterval*et.Milliseconds.Minute)}get settings(){return{updateInterval:this.updateInterval,environment:this.environment,siteCode:this.siteCode}}}Tr.ClientSettings=ai;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ClientSettings",{enumerable:!0,get:function(){return r.ClientSettings}}),Object.defineProperty(e,"ClientSettingsType",{enumerable:!0,get:function(){return t.ClientSettingsType}});var r=Tr,t=kn})(Nn);var q={};Object.defineProperty(q,"__esModule",{value:!0});q.VISITOR_CODE_LENGTH=q.UNALLOCATED_VARIATION_ID=q.SDKType=q.OFF_VARIATION_KEY=q.KAMELEOON_COOKIE_KEY=q.Cookie=q.CACHE_ITEM_LIFETIME=q.CACHE_CLEANUP_TIMEOUT=void 0;const ii=0;q.UNALLOCATED_VARIATION_ID=ii;const oi="off";q.OFF_VARIATION_KEY=oi;const si="kameleoonVisitorCode";q.KAMELEOON_COOKIE_KEY=si;const ui=16;q.VISITOR_CODE_LENGTH=ui;const ci=10;q.CACHE_CLEANUP_TIMEOUT=ci;const fi=5;q.CACHE_ITEM_LIFETIME=fi;let li=function(e){return e.PairsDelimiter="; ",e.KeyValueDelimiter="=",e.MaxAge="Max-Age",e.Path="Path",e.Domain="Domain",e}({});q.Cookie=li;let vi=function(e){return e.NodeJS="nodejs",e.JavaScript="javascript",e.React="react",e}({});q.SDKType=vi;var Je={},Ar={},ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.KameleoonData=ne.DeviceType=ne.BrowserType=void 0;let di=function(e){return e.CustomData="customData",e.PageView="pageView",e.Browser="browser",e.Conversion="conversion",e.Device="device",e.UserAgent="userAgent",e}({});ne.KameleoonData=di;let xi=function(e){return e.Phone="PHONE",e.Tablet="TABLET",e.Desktop="DESKTOP",e}({});ne.DeviceType=xi;let hi=function(e){return e[e.Chrome=0]="Chrome",e[e.InternetExplorer=1]="InternetExplorer",e[e.Firefox=2]="Firefox",e[e.Safari=3]="Safari",e[e.Opera=4]="Opera",e[e.Other=5]="Other",e}({});ne.BrowserType=hi;Object.defineProperty(Ar,"__esModule",{value:!0});Ar.CustomData=void 0;var Ge=be,pi=ge,gi=ne;function C0(e,r,t){return r=mi(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function mi(e){var r=_i(e,"string");return typeof r=="symbol"?r:String(r)}function _i(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class bi extends pi.Nonce{constructor(r,...t){super(),C0(this,"index",void 0),C0(this,"value",void 0),this.index=r,this.value=t}get url(){const r=[...new Set(this.value)];let t={};return r.forEach(n=>{t[n]=1}),Object.keys(t).length?Ge.UrlEventType.CustomData+Ge.UrlParameter.Index+this.index+Ge.UrlParameter.ValuesCountMap+encodeURIComponent(JSON.stringify(t))+Ge.UrlParameter.Overwrite+String(!0)+Ge.UrlParameter.Nonce+this.nonce:""}get data(){return{index:this.index,value:this.value,type:gi.KameleoonData.CustomData,nonce:this.nonce}}}Ar.CustomData=bi;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.Conversion=void 0;var ze=be,yi=ge,Ei=ne;function tt(e,r,t){return r=Ci(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ci(e){var r=Si(e,"string");return typeof r=="symbol"?r:String(r)}function Si(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Pi extends yi.Nonce{constructor({goalId:r,revenue:t=0,negative:n=!1}){super(),tt(this,"goalId",void 0),tt(this,"revenue",void 0),tt(this,"negative",void 0),this.goalId=r,this.revenue=t,this.negative=n}get url(){return ze.UrlEventType.Conversion+ze.UrlParameter.GoalId+String(this.goalId)+ze.UrlParameter.Revenue+String(this.revenue)+ze.UrlParameter.Negative+String(this.negative)+ze.UrlParameter.Nonce+this.nonce}get data(){return{goalId:this.goalId,revenue:this.revenue,negative:this.negative,type:Ei.KameleoonData.Conversion,nonce:this.nonce}}}Ir.Conversion=Pi;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.Device=void 0;var nt=be,Oi=ge,Ti=ne;function Ai(e,r,t){return r=Ii(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ii(e){var r=Di(e,"string");return typeof r=="symbol"?r:String(r)}function Di(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Ri extends Oi.Nonce{constructor(r){super(),Ai(this,"device",void 0),this.device=r}get url(){return nt.UrlEventType.StaticData+nt.UrlParameter.DeviceType+this.device+nt.UrlParameter.Nonce+this.nonce}get data(){return{device:this.device,type:Ti.KameleoonData.Device,nonce:this.nonce}}}Dr.Device=Ri;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.Browser=void 0;var wi=ge,at=be,Ni=ne;function ki(e,r,t){return r=Ui(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ui(e){var r=Bi(e,"string");return typeof r=="symbol"?r:String(r)}function Bi(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Ki extends wi.Nonce{constructor(r){super(),ki(this,"browser",void 0),this.browser=r}get url(){return at.UrlEventType.StaticData+at.UrlParameter.BrowserIndex+this.browser+at.UrlParameter.Nonce+this.nonce}get data(){return{browser:this.browser,type:Ni.KameleoonData.Browser,nonce:this.nonce}}}Rr.Browser=Ki;var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.PageView=void 0;var qe=be,ji=ge,Vi=ne;function it(e,r,t){return r=Mi(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Mi(e){var r=Hi(e,"string");return typeof r=="symbol"?r:String(r)}function Hi(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Fi extends ji.Nonce{constructor({urlAddress:r,title:t,referrers:n}){super(),it(this,"urlAddress",void 0),it(this,"title",void 0),it(this,"referrers",void 0),this.urlAddress=r,this.title=t,this.referrers=n}get url(){return qe.UrlEventType.Page+qe.UrlParameter.Href+encodeURIComponent(this.urlAddress)+qe.UrlParameter.Title+encodeURIComponent(this.title)+this.getReferresParameter(this.referrers)+qe.UrlParameter.Nonce+this.nonce}get data(){return{urlAddress:this.urlAddress,title:this.title,referrers:this.referrers,type:Vi.KameleoonData.PageView,nonce:this.nonce}}getReferresParameter(r){return r?qe.UrlParameter.ReferrersIndices+JSON.stringify(r):""}}wr.PageView=Fi;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.UserAgent=void 0;var $i=ge,Li=ne;function Gi(e,r,t){return r=zi(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function zi(e){var r=qi(e,"string");return typeof r=="symbol"?r:String(r)}function qi(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Wi extends $i.Nonce{constructor(r){super(),Gi(this,"value",void 0),this.value=r}get url(){return""}get data(){return{value:this.value,type:Li.KameleoonData.UserAgent,nonce:this.nonce}}}Nr.UserAgent=Wi;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Browser",{enumerable:!0,get:function(){return a.Browser}}),Object.defineProperty(e,"BrowserType",{enumerable:!0,get:function(){return c.BrowserType}}),Object.defineProperty(e,"Conversion",{enumerable:!0,get:function(){return t.Conversion}}),Object.defineProperty(e,"ConversionParametersType",{enumerable:!0,get:function(){return c.ConversionParametersType}}),Object.defineProperty(e,"CustomData",{enumerable:!0,get:function(){return r.CustomData}}),Object.defineProperty(e,"CustomDataType",{enumerable:!0,get:function(){return c.CustomDataType}}),Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return n.Device}}),Object.defineProperty(e,"DeviceType",{enumerable:!0,get:function(){return c.DeviceType}}),Object.defineProperty(e,"KameleoonData",{enumerable:!0,get:function(){return c.KameleoonData}}),Object.defineProperty(e,"KameleoonDataItemType",{enumerable:!0,get:function(){return c.KameleoonDataItemType}}),Object.defineProperty(e,"KameleoonDataType",{enumerable:!0,get:function(){return c.KameleoonDataType}}),Object.defineProperty(e,"PageView",{enumerable:!0,get:function(){return o.PageView}}),Object.defineProperty(e,"PageViewParametersType",{enumerable:!0,get:function(){return c.PageViewParametersType}}),Object.defineProperty(e,"UserAgent",{enumerable:!0,get:function(){return p.UserAgent}}),Object.defineProperty(e,"UserAgentDataType",{enumerable:!0,get:function(){return c.UserAgentDataType}});var r=Ar,t=Ir,n=Dr,a=Rr,o=wr,p=Nr,c=ne})(Je);var Jt={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.KameleoonStorageKey=void 0;let Yi=function(e){return e.ClientData="kameleoonClientData",e.VariationData="kameleoonVariationData",e.VisitorCode="kameleoonVisitorCode",e}({});kr.KameleoonStorageKey=Yi;var er={};Object.defineProperty(er,"__esModule",{value:!0});er.ExternalStorage=void 0;var S0=ae,P0=ye;function O0(e,r,t){return r=Xi(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Xi(e){var r=Qi(e,"string");return typeof r=="symbol"?r:String(r)}function Qi(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Zi{constructor(r){O0(this,"key",void 0),O0(this,"storage",void 0),this.key=r.key,this.storage=r}read(){const r=this.storage.read();return r.ok?this.parse(r.data):r}write(r){return this.storage.write(JSON.stringify(r)),(0,S0.Ok)()}parse(r){let t;try{t=JSON.parse(r)}catch(n){throw new P0.KameleoonError(P0.KameleoonException.StorageParse,n,this.key)}return(0,S0.Ok)(t)}}er.ExternalStorage=Zi;var Un={};Object.defineProperty(Un,"__esModule",{value:!0});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ClientDataType",{enumerable:!0,get:function(){return n.ClientDataType}}),Object.defineProperty(e,"ExperimentVariationsType",{enumerable:!0,get:function(){return n.ExperimentVariationsType}}),Object.defineProperty(e,"ExternalStorage",{enumerable:!0,get:function(){return t.ExternalStorage}}),Object.defineProperty(e,"IExternalStorage",{enumerable:!0,get:function(){return n.IExternalStorage}}),Object.defineProperty(e,"IExternalStorageConstructor",{enumerable:!0,get:function(){return n.IExternalStorageConstructor}}),Object.defineProperty(e,"IStorage",{enumerable:!0,get:function(){return n.IStorage}}),Object.defineProperty(e,"KameleoonStorageKey",{enumerable:!0,get:function(){return r.KameleoonStorageKey}}),Object.defineProperty(e,"VariationDataType",{enumerable:!0,get:function(){return n.VariationDataType}});var r=kr,t=er,n=Un})(Jt);var e0={},Ur={},Bn={},Br={},Kr={},r0={},jr={},Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.TargetingType=Q.Operator=Q.MatchTypeVariation=Q.MatchTypeTest=Q.MatchTypeCustomData=void 0;let Ji=function(e){return e.And="AND",e.Or="OR",e}({});Q.Operator=Ji;let eo=function(e){return e.TRUE="TRUE",e.FALSE="FALSE",e.EXACT="EXACT",e.CONTAINS="CONTAINS",e.REGULAR_EXPRESSION="REGULAR_EXPRESSION",e.EQUAL="EQUAL",e.LOWER="LOWER",e.GREATER="GREATER",e.UNDEFINED="UNDEFINED",e.AMONG_VALUES="AMONG_VALUES",e}({});Q.MatchTypeCustomData=eo;let ro=function(e){return e.ANY="ANY",e.EXACT="EXACT",e}({});Q.MatchTypeVariation=ro;let to=function(e){return e.ALL="ALL",e.TEST="TEST",e.PERSO="PERSO",e}({});Q.MatchTypeTest=to;let no=function(e){return e.PAGE_URL="PAGE_URL",e.PAGE_TITLE="PAGE_TITLE",e.LANDING_PAGE="LANDING_PAGE",e.ORIGIN="ORIGIN",e.ORIGIN_TYPE="ORIGIN_TYPE",e.REFERRERS="REFERRERS",e.NEW_VISITORS="NEW_VISITORS",e.INTERESTS="INTERESTS",e.BROWSER_LANGUAGE="BROWSER_LANGUAGE",e.GEOLOCATION="GEOLOCATION",e.DEVICE_TYPE="DEVICE_TYPE",e.SCREEN_DIMENSION="SCREEN_DIMENSION",e.VISITOR_IP="VISITOR_IP",e.AD_BLOCKER="AD_BLOCKER",e.PREVIOUS_PAGE="PREVIOUS_PAGE",e.KEY_PAGES="KEY_PAGES",e.PAGE_VIEWS="PAGE_VIEWS",e.FIRST_VISIT="FIRST_VISIT",e.LAST_VISIT="LAST_VISIT",e.ACTIVE_SESSION="ACTIVE_SESSION",e.TIME_SINCE_PAGE_LOAD="TIME_SINCE_PAGE_LOAD",e.SAME_DAY_VISITS="SAME_DAY_VISITS",e.VISITS="VISITS",e.VISITS_BY_PAGE="VISITS_BY_PAGE",e.INTERNAL_SEARCH_KEYWORDS="INTERNAL_SEARCH_KEYWORDS",e.TABS_ON_SITE="TABS_ON_SITE",e.CONVERSION_PROBABILITY="CONVERSION_PROBABILITY",e.HEAT_SLICE="HEAT_SLICE",e.SKY_STATUS="SKY_STATUS",e.TEMPERATURE="TEMPERATURE",e.DAY_NIGHT="DAY_NIGHT",e.FORECAST_SKY_STATUS="FORECAST_SKY_STATUS",e.FORECAST_TEMPERATURE="FORECAST_TEMPERATURE",e.DAY_OF_WEEK="DAY_OF_WEEK",e.TIME_RANGE="TIME_RANGE",e.HOUR_MINUTE_RANGE="HOUR_MINUTE_RANGE",e.JS_CODE="JS_CODE",e.COOKIE="COOKIE",e.EVENT="EVENT",e.BROWSER="BROWSER",e.OPERATING_SYSTEM="OPERATING_SYSTEM",e.DOM_ELEMENT="DOM_ELEMENT",e.MOUSE_OUT="MOUSE_OUT",e.TARGET_EXPERIMENT="TARGET_EXPERIMENT",e.TARGET_PERSONALIZATION="TARGET_PERSONALIZATION",e.EXCLUSIVE_EXPERIMENT="EXCLUSIVE_EXPERIMENT",e.CONVERSIONS="CONVERSIONS",e.CUSTOM_DATUM="CUSTOM_DATUM",e.YSANCE_SEGMENT="YSANCE_SEGMENT",e.YSANCE_ATTRIBUT="YSANCE_ATTRIBUT",e.TEALIUM_BADGE="TEALIUM_BADGE",e.TEALIUM_AUDIENCE="TEALIUM_AUDIENCE",e.PRICE_OF_DISPLAYED_PAGE="PRICE_OF_DISPLAYED_PAGE",e.NUMBER_OF_VISITED_PAGES="NUMBER_OF_VISITED_PAGES",e.VISITED_PAGES="VISITED_PAGES",e.CUSTOM="CUSTOM",e.EXPLICIT_TRIGGER="EXPLICIT_TRIGGER",e}({});Q.TargetingType=no;var rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.CustomDataCondition=void 0;var Re=ae,ao=Je,T0=ye,xe=Q;function We(e,r,t){return r=io(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function io(e){var r=oo(e,"string");return typeof r=="symbol"?r:String(r)}function oo(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class so{constructor({customDataIndex:r,valueMatchType:t,isInclude:n,value:a}){We(this,"customDataIndex",void 0),We(this,"matchType",void 0),We(this,"inverseResult",void 0),We(this,"conditionValue",void 0),We(this,"error",void 0),this.customDataIndex=Number(r),this.inverseResult=!(n??!0),this.matchType=t,this.conditionValue=a}evaluate({targetingData:r}){const t=a=>a.type===ao.KameleoonData.CustomData,n=r.map(a=>a.data).filter(t).filter(a=>a.index===this.customDataIndex);if(n.length){const a=n[n.length-1],{value:o}=a,p=this.inverseResult?!this.checkCondition(o):this.checkCondition(o);return this.error?(0,Re.Err)(this.error):(0,Re.Ok)(p)}return(0,Re.Ok)(this.matchType===xe.MatchTypeCustomData.UNDEFINED)}checkCondition(r){if(this.conditionValue===null)return!1;if(this.matchType===xe.MatchTypeCustomData.AMONG_VALUES){const t=this.parseArray(this.conditionValue);if(!t.ok)return this.error=t.error,!1;const n=new Set(t.data);return Array.isArray(r)?r.some(a=>n.has(a)):t.data.includes(r)}if(Array.isArray(r))return r.some(t=>this.checkCondition(t));switch(this.matchType){case xe.MatchTypeCustomData.CONTAINS:return r.includes(this.conditionValue);case xe.MatchTypeCustomData.EXACT:return r===this.conditionValue;case xe.MatchTypeCustomData.REGULAR_EXPRESSION:return this.parseRegExp(this.conditionValue).test(r);case xe.MatchTypeCustomData.LOWER:return Number(r)<Number(this.conditionValue);case xe.MatchTypeCustomData.EQUAL:return Number(r)===Number(this.conditionValue);case xe.MatchTypeCustomData.GREATER:return Number(r)>Number(this.conditionValue);case xe.MatchTypeCustomData.TRUE:return r.toLowerCase()==="true";case xe.MatchTypeCustomData.FALSE:return r.toLowerCase()==="false";default:return!1}}parseRegExp(r){if(r[0]==="/"){const[t,n,a]=r.split("/");return new RegExp(n,a)}return new RegExp(r)}parseArray(r){try{const t=JSON.parse(r);if(Array.isArray(t))return(0,Re.Ok)(t)}catch(t){return(0,Re.Err)(new T0.KameleoonError(T0.KameleoonException.AmongValuesCheck,t,r))}return(0,Re.Ok)([])}}rr.CustomDataCondition=so;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.ExclusiveExperimentCondition=void 0;var uo=ae;function co(e,r,t){return r=fo(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function fo(e){var r=lo(e,"string");return typeof r=="symbol"?r:String(r)}function lo(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class vo{constructor({isInclude:r}){co(this,"inverseResult",void 0),this.inverseResult=!(r??!0)}evaluate({experimentId:r,variationData:t}){const n=Object.keys(t),a=!n.length,o=n.length===1&&n[0]===String(r),p=a||o;return(0,uo.Ok)(this.inverseResult?!p:p)}}tr.ExclusiveExperimentCondition=vo;var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.TargetExperimentCondition=void 0;var ot=ae,st=Q;function fr(e,r,t){return r=xo(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function xo(e){var r=ho(e,"string");return typeof r=="symbol"?r:String(r)}function ho(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class po{constructor({variation:r,experiment:t,isInclude:n,variationMatchType:a}){fr(this,"inverseResult",void 0),fr(this,"experimentId",void 0),fr(this,"variationId",void 0),fr(this,"matchType",void 0),this.inverseResult=!(n??!0),this.experimentId=t,this.variationId=r,this.matchType=a}evaluate({variationData:r}){if(!this.experimentId)return(0,ot.Ok)(!1);this.matchType===st.MatchTypeVariation.EXACT&&!this.variationId&&(0,ot.Ok)(!1);const t=this.checkCondition({variationId:this.variationId,experimentId:this.experimentId,variationData:r});return(0,ot.Ok)(this.inverseResult?!t:t)}checkCondition({variationId:r,experimentId:t,variationData:n}){const a=String(t),o=n[a];switch(this.matchType){case st.MatchTypeVariation.EXACT:return(o==null?void 0:o.variationId)===r;case st.MatchTypeVariation.ANY:return!!o;default:return!1}}}nr.TargetExperimentCondition=po;Object.defineProperty(jr,"__esModule",{value:!0});jr.ConditionFactory=void 0;var lr=ae,A0=ye,ut=Q,go=rr,mo=tr,_o=nr;class bo{static createCondition(r){const{targetingType:t}=r;switch(t){case ut.TargetingType.CUSTOM_DATUM:return(0,lr.Ok)(new go.CustomDataCondition(r));case ut.TargetingType.EXCLUSIVE_EXPERIMENT:return(0,lr.Ok)(new mo.ExclusiveExperimentCondition(r));case ut.TargetingType.TARGET_EXPERIMENT:return(0,lr.Ok)(new _o.TargetExperimentCondition(r));default:return(0,lr.Err)(new A0.KameleoonError(A0.KameleoonException.TargetingCondition,t))}}}jr.ConditionFactory=bo;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ConditionDataType",{enumerable:!0,get:function(){return t.ConditionDataType}}),Object.defineProperty(e,"ConditionFactory",{enumerable:!0,get:function(){return r.ConditionFactory}}),Object.defineProperty(e,"ConditionType",{enumerable:!0,get:function(){return t.ConditionType}}),Object.defineProperty(e,"CustomDataCondition",{enumerable:!0,get:function(){return n.CustomDataCondition}}),Object.defineProperty(e,"ExclusiveExperimentCondition",{enumerable:!0,get:function(){return o.ExclusiveExperimentCondition}}),Object.defineProperty(e,"TargetExperimentCondition",{enumerable:!0,get:function(){return a.TargetExperimentCondition}});var r=jr,t=Kn,n=rr,a=nr,o=tr})(r0);Object.defineProperty(Kr,"__esModule",{value:!0});Kr.TargetingNode=void 0;var yo=r0,I0=Q;function vr(e,r,t){return r=Eo(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Eo(e){var r=Co(e,"string");return typeof r=="symbol"?r:String(r)}function Co(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class So{constructor(r,t,n){if(vr(this,"nodeValue",void 0),vr(this,"nodeError",void 0),vr(this,"leftChild",void 0),vr(this,"rightChild",void 0),this.isOperator(r))this.nodeValue=r;else{const a=yo.ConditionFactory.createCondition(r);a.ok?this.nodeValue=a.data:this.nodeError=a.error}this.leftChild=t,this.rightChild=n}get value(){return this.nodeValue}get error(){return this.nodeError}get left(){return this.leftChild}get right(){return this.rightChild}isOperator(r){return r===I0.Operator.And||r===I0.Operator.Or}}Kr.TargetingNode=So;Object.defineProperty(Br,"__esModule",{value:!0});Br.TargetingTree=void 0;var D0=ae,R0=Kr,we=Q;function w0(e,r,t){return r=Po(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Po(e){var r=Oo(e,"string");return typeof r=="symbol"?r:String(r)}function Oo(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class To{constructor(r){w0(this,"tree",void 0),w0(this,"error",null);const{conditions:t,operators:n}=this.flattenSegment(r),a=t.map(o=>new R0.TargetingNode(o));for(const o of n){const p=a.shift(),c=a.shift();a.unshift(new R0.TargetingNode(o,p,c))}this.tree=a[0]}evaluate(r){const t=this.evaluateNode(this.tree,r);return this.error?(0,D0.Err)(this.error):(0,D0.Ok)(t)}evaluateNode(r,t){if(this.isLeafNode(r)){if(r.error)return!1;const n=r.value.evaluate(t);return n.ok?n.data:(this.error=n.error,!1)}if(this.isNonLeafNode(r))switch(r.value){case we.Operator.And:return this.evaluateNode(r.left,t)&&this.evaluateNode(r.right,t);case we.Operator.Or:return this.evaluateNode(r.left,t)||this.evaluateNode(r.right,t)}return!1}isLeafNode(r){return!(r.left&&r.right)}isNonLeafNode(r){return!!(r.left&&r.right&&(r.value===we.Operator.Or||r.value===we.Operator.And))}flattenSegment(r){const{firstLevel:t,firstLevelOrOperators:n}=r.conditionsData,a=[...n],o=[];t.forEach(c=>{const{conditions:f,orOperators:i}=c;i.length?(i.forEach(s=>a.unshift(s)),f.forEach(s=>o.unshift(s))):f.forEach(s=>o.push(s))});const p=a.map(c=>c?we.Operator.Or:we.Operator.And);return{conditions:o,operators:p}}}Br.TargetingTree=To;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"CustomDataCondition",{enumerable:!0,get:function(){return n.CustomDataCondition}}),Object.defineProperty(e,"EvaluationDataType",{enumerable:!0,get:function(){return t.EvaluationDataType}}),Object.defineProperty(e,"ExclusiveExperimentCondition",{enumerable:!0,get:function(){return n.ExclusiveExperimentCondition}}),Object.defineProperty(e,"MatchTypeCustomData",{enumerable:!0,get:function(){return t.MatchTypeCustomData}}),Object.defineProperty(e,"MatchTypeVariation",{enumerable:!0,get:function(){return t.MatchTypeVariation}}),Object.defineProperty(e,"Operator",{enumerable:!0,get:function(){return t.Operator}}),Object.defineProperty(e,"SegmentType",{enumerable:!0,get:function(){return t.SegmentType}}),Object.defineProperty(e,"TargetExperimentCondition",{enumerable:!0,get:function(){return n.TargetExperimentCondition}}),Object.defineProperty(e,"TargetingDataItemType",{enumerable:!0,get:function(){return t.TargetingDataItemType}}),Object.defineProperty(e,"TargetingDataType",{enumerable:!0,get:function(){return t.TargetingDataType}}),Object.defineProperty(e,"TargetingTree",{enumerable:!0,get:function(){return r.TargetingTree}}),Object.defineProperty(e,"TargetingType",{enumerable:!0,get:function(){return t.TargetingType}});var r=Br,t=Q,n=r0})(Bn);var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.VISITOR_CODE_MAX_LENGTH=void 0;const Ao=255;Vr.VISITOR_CODE_MAX_LENGTH=Ao;Object.defineProperty(Ur,"__esModule",{value:!0});Ur.Utilities=void 0;var he=ae,me=ye,Ye=te,Io=Bn,Do=Vr,Ro=Je,ct=q;function N0(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function wo(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?N0(Object(t),!0).forEach(function(n){No(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N0(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function No(e,r,t){return r=ko(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ko(e){var r=Uo(e,"string");return typeof r=="symbol"?r:String(r)}function Uo(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Bo{static checkTargeting({segment:r,visitorCode:t,targetingData:n,experimentId:a,variationConfiguration:o}){if(!r||!r.conditionsData.firstLevel.length)return(0,he.Ok)(!0);if(!o)return(0,he.Err)(new me.KameleoonError(me.KameleoonException.Initialization));let p={};const c=o.getAssignedVariations(t);return c.ok&&(p=c.data),new Io.TargetingTree(r).evaluate({targetingData:n||[],variationData:p,experimentId:a})}static validateVisitorCode(r){return r.length>Do.VISITOR_CODE_MAX_LENGTH?(0,he.Err)(new me.KameleoonError(me.KameleoonException.VisitorCodeMaxLength)):(0,he.Ok)()}static getDataUrl(r,t){return t.getUnsentData(r).map(a=>a.url).join(`
`)}static trackRule({featureFlagVariation:r,campaignConfiguration:t,visitorCode:n,requester:a,userAgent:o}){const{variationId:p,rule:c}=r;if(!c)throw new Error("Internal usage error, make sure to use `trackRule` for existing rule");const f=this.getDataUrl(n,t),i=p||0,s=p===null,g=()=>t.clearUnsentData;a.trackExperiment({visitorCode:n,isUnallocated:s,body:f,callback:g,experimentId:c.experimentId,variationId:i,userAgent:o})}static parseFeatureVariable(r){const{type:t,value:n}=r;switch(t){case Ye.VariableType.BOOLEAN:return(0,he.Ok)({type:t,value:!!n});case Ye.VariableType.STRING:return(0,he.Ok)({type:t,value:String(n)});case Ye.VariableType.NUMBER:const a=Number(n);return Number.isNaN(a)?(0,he.Err)(new me.KameleoonError(me.KameleoonException.NumberParse,String(n))):(0,he.Ok)({type:t,value:a});case Ye.VariableType.JSON:try{const o=JSON.parse(String(r.value));return(0,he.Ok)({type:t,value:o})}catch(o){return(0,he.Err)(new me.KameleoonError(me.KameleoonException.JSONParse,o))}default:(0,me.exhaustCheck)(t)}}static getUserAgent(r,t){const n=o=>o.type===Ro.KameleoonData.UserAgent,a=t.storedTargetingData[r];if(a){const o=a.map(p=>p.data).filter(n);if(o.length){const[p]=o;return p.value}}}static updateCache({cacheManager:r,visitorCode:t,experimentId:n,variationId:a}){const o=r.getAliveItem(t),p=o?wo({},o):{};p[n]={variationId:a,expirationTime:Date.now()+ct.CACHE_ITEM_LIFETIME*Ye.Milliseconds.Second},r.add({key:t,data:p,lifetime:ct.CACHE_ITEM_LIFETIME})}static getTrackingCode(r,t){let n="window.kameleoonQueue=window.kameleoonQueue||[];";const a=r.getAliveItem(t);if(!a)return n;const o={};return Object.entries(a).forEach(([p,{variationId:c,expirationTime:f}])=>{f>Date.now()&&(n+=`window.kameleoonQueue.push(['Experiments.assignVariation',${p},${c}]);`,n+=`window.kameleoonQueue.push(['Experiments.trigger',${p},true]);`,o[Number(p)]={variationId:c,expirationTime:f})}),r.add({key:t,data:o,lifetime:ct.CACHE_ITEM_LIFETIME}),n}}Ur.Utilities=Bo;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Utilities",{enumerable:!0,get:function(){return r.Utilities}});var r=Ur})(e0);var jn={},Mr={},Vn={},Hr={},Mn={exports:{}};function Ko(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ft={exports:{}};const jo={},Vo=Object.freeze(Object.defineProperty({__proto__:null,default:jo},Symbol.toStringTag,{value:"Module"})),Mo=na(Vo);var k0;function V(){return k0||(k0=1,function(e,r){(function(t,n){e.exports=n()})(K,function(){var t=t||function(n,a){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof K<"u"&&K.crypto&&(o=K.crypto),!o&&typeof Ko=="function")try{o=Mo}catch{}var p=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function l(){}return function(x){var m;return l.prototype=x,m=new l,l.prototype=null,m}}(),f={},i=f.lib={},s=i.Base=function(){return{extend:function(l){var x=c(this);return l&&x.mixIn(l),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var l=this.extend();return l.init.apply(l,arguments),l},init:function(){},mixIn:function(l){for(var x in l)l.hasOwnProperty(x)&&(this[x]=l[x]);l.hasOwnProperty("toString")&&(this.toString=l.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),g=i.WordArray=s.extend({init:function(l,x){l=this.words=l||[],x!=a?this.sigBytes=x:this.sigBytes=l.length*4},toString:function(l){return(l||d).stringify(this)},concat:function(l){var x=this.words,m=l.words,C=this.sigBytes,S=l.sigBytes;if(this.clamp(),C%4)for(var P=0;P<S;P++){var O=m[P>>>2]>>>24-P%4*8&255;x[C+P>>>2]|=O<<24-(C+P)%4*8}else for(var N=0;N<S;N+=4)x[C+N>>>2]=m[N>>>2];return this.sigBytes+=S,this},clamp:function(){var l=this.words,x=this.sigBytes;l[x>>>2]&=4294967295<<32-x%4*8,l.length=n.ceil(x/4)},clone:function(){var l=s.clone.call(this);return l.words=this.words.slice(0),l},random:function(l){for(var x=[],m=0;m<l;m+=4)x.push(p());return new g.init(x,l)}}),u=f.enc={},d=u.Hex={stringify:function(l){for(var x=l.words,m=l.sigBytes,C=[],S=0;S<m;S++){var P=x[S>>>2]>>>24-S%4*8&255;C.push((P>>>4).toString(16)),C.push((P&15).toString(16))}return C.join("")},parse:function(l){for(var x=l.length,m=[],C=0;C<x;C+=2)m[C>>>3]|=parseInt(l.substr(C,2),16)<<24-C%8*4;return new g.init(m,x/2)}},v=u.Latin1={stringify:function(l){for(var x=l.words,m=l.sigBytes,C=[],S=0;S<m;S++){var P=x[S>>>2]>>>24-S%4*8&255;C.push(String.fromCharCode(P))}return C.join("")},parse:function(l){for(var x=l.length,m=[],C=0;C<x;C++)m[C>>>2]|=(l.charCodeAt(C)&255)<<24-C%4*8;return new g.init(m,x)}},h=u.Utf8={stringify:function(l){try{return decodeURIComponent(escape(v.stringify(l)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(l){return v.parse(unescape(encodeURIComponent(l)))}},_=i.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(l){typeof l=="string"&&(l=h.parse(l)),this._data.concat(l),this._nDataBytes+=l.sigBytes},_process:function(l){var x,m=this._data,C=m.words,S=m.sigBytes,P=this.blockSize,O=P*4,N=S/O;l?N=n.ceil(N):N=n.max((N|0)-this._minBufferSize,0);var b=N*P,y=n.min(b*4,S);if(b){for(var A=0;A<b;A+=P)this._doProcessBlock(C,A);x=C.splice(0,b),m.sigBytes-=y}return new g.init(x,y)},clone:function(){var l=s.clone.call(this);return l._data=this._data.clone(),l},_minBufferSize:0});i.Hasher=_.extend({cfg:s.extend(),init:function(l){this.cfg=this.cfg.extend(l),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(l){return this._append(l),this._process(),this},finalize:function(l){l&&this._append(l);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(l){return function(x,m){return new l.init(m).finalize(x)}},_createHmacHelper:function(l){return function(x,m){return new E.HMAC.init(l,m).finalize(x)}}});var E=f.algo={};return f}(Math);return t})}(ft)),ft.exports}var lt={exports:{}},U0;function Fr(){return U0||(U0=1,function(e,r){(function(t,n){e.exports=n(V())})(K,function(t){return function(n){var a=t,o=a.lib,p=o.Base,c=o.WordArray,f=a.x64={};f.Word=p.extend({init:function(i,s){this.high=i,this.low=s}}),f.WordArray=p.extend({init:function(i,s){i=this.words=i||[],s!=n?this.sigBytes=s:this.sigBytes=i.length*8},toX32:function(){for(var i=this.words,s=i.length,g=[],u=0;u<s;u++){var d=i[u];g.push(d.high),g.push(d.low)}return c.create(g,this.sigBytes)},clone:function(){for(var i=p.clone.call(this),s=i.words=this.words.slice(0),g=s.length,u=0;u<g;u++)s[u]=s[u].clone();return i}})}(),t})}(lt)),lt.exports}var vt={exports:{}},B0;function Ho(){return B0||(B0=1,function(e,r){(function(t,n){e.exports=n(V())})(K,function(t){return function(){if(typeof ArrayBuffer=="function"){var n=t,a=n.lib,o=a.WordArray,p=o.init,c=o.init=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),(f instanceof Int8Array||typeof Uint8ClampedArray<"u"&&f instanceof Uint8ClampedArray||f instanceof Int16Array||f instanceof Uint16Array||f instanceof Int32Array||f instanceof Uint32Array||f instanceof Float32Array||f instanceof Float64Array)&&(f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength)),f instanceof Uint8Array){for(var i=f.byteLength,s=[],g=0;g<i;g++)s[g>>>2]|=f[g]<<24-g%4*8;p.call(this,s,i)}else p.apply(this,arguments)};c.prototype=o}}(),t.lib.WordArray})}(vt)),vt.exports}var dt={exports:{}},K0;function Fo(){return K0||(K0=1,function(e,r){(function(t,n){e.exports=n(V())})(K,function(t){return function(){var n=t,a=n.lib,o=a.WordArray,p=n.enc;p.Utf16=p.Utf16BE={stringify:function(f){for(var i=f.words,s=f.sigBytes,g=[],u=0;u<s;u+=2){var d=i[u>>>2]>>>16-u%4*8&65535;g.push(String.fromCharCode(d))}return g.join("")},parse:function(f){for(var i=f.length,s=[],g=0;g<i;g++)s[g>>>1]|=f.charCodeAt(g)<<16-g%2*16;return o.create(s,i*2)}},p.Utf16LE={stringify:function(f){for(var i=f.words,s=f.sigBytes,g=[],u=0;u<s;u+=2){var d=c(i[u>>>2]>>>16-u%4*8&65535);g.push(String.fromCharCode(d))}return g.join("")},parse:function(f){for(var i=f.length,s=[],g=0;g<i;g++)s[g>>>1]|=c(f.charCodeAt(g)<<16-g%2*16);return o.create(s,i*2)}};function c(f){return f<<8&4278255360|f>>>8&16711935}}(),t.enc.Utf16})}(dt)),dt.exports}var xt={exports:{}},j0;function Be(){return j0||(j0=1,function(e,r){(function(t,n){e.exports=n(V())})(K,function(t){return function(){var n=t,a=n.lib,o=a.WordArray,p=n.enc;p.Base64={stringify:function(f){var i=f.words,s=f.sigBytes,g=this._map;f.clamp();for(var u=[],d=0;d<s;d+=3)for(var v=i[d>>>2]>>>24-d%4*8&255,h=i[d+1>>>2]>>>24-(d+1)%4*8&255,_=i[d+2>>>2]>>>24-(d+2)%4*8&255,E=v<<16|h<<8|_,l=0;l<4&&d+l*.75<s;l++)u.push(g.charAt(E>>>6*(3-l)&63));var x=g.charAt(64);if(x)for(;u.length%4;)u.push(x);return u.join("")},parse:function(f){var i=f.length,s=this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var u=0;u<s.length;u++)g[s.charCodeAt(u)]=u}var d=s.charAt(64);if(d){var v=f.indexOf(d);v!==-1&&(i=v)}return c(f,i,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(f,i,s){for(var g=[],u=0,d=0;d<i;d++)if(d%4){var v=s[f.charCodeAt(d-1)]<<d%4*2,h=s[f.charCodeAt(d)]>>>6-d%4*2,_=v|h;g[u>>>2]|=_<<24-u%4*8,u++}return o.create(g,u)}}(),t.enc.Base64})}(xt)),xt.exports}var ht={exports:{}},V0;function $o(){return V0||(V0=1,function(e,r){(function(t,n){e.exports=n(V())})(K,function(t){return function(){var n=t,a=n.lib,o=a.WordArray,p=n.enc;p.Base64url={stringify:function(f,i=!0){var s=f.words,g=f.sigBytes,u=i?this._safe_map:this._map;f.clamp();for(var d=[],v=0;v<g;v+=3)for(var h=s[v>>>2]>>>24-v%4*8&255,_=s[v+1>>>2]>>>24-(v+1)%4*8&255,E=s[v+2>>>2]>>>24-(v+2)%4*8&255,l=h<<16|_<<8|E,x=0;x<4&&v+x*.75<g;x++)d.push(u.charAt(l>>>6*(3-x)&63));var m=u.charAt(64);if(m)for(;d.length%4;)d.push(m);return d.join("")},parse:function(f,i=!0){var s=f.length,g=i?this._safe_map:this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var d=0;d<g.length;d++)u[g.charCodeAt(d)]=d}var v=g.charAt(64);if(v){var h=f.indexOf(v);h!==-1&&(s=h)}return c(f,s,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(f,i,s){for(var g=[],u=0,d=0;d<i;d++)if(d%4){var v=s[f.charCodeAt(d-1)]<<d%4*2,h=s[f.charCodeAt(d)]>>>6-d%4*2,_=v|h;g[u>>>2]|=_<<24-u%4*8,u++}return o.create(g,u)}}(),t.enc.Base64url})}(ht)),ht.exports}var pt={exports:{}},M0;function Ke(){return M0||(M0=1,function(e,r){(function(t,n){e.exports=n(V())})(K,function(t){return function(n){var a=t,o=a.lib,p=o.WordArray,c=o.Hasher,f=a.algo,i=[];(function(){for(var h=0;h<64;h++)i[h]=n.abs(n.sin(h+1))*4294967296|0})();var s=f.MD5=c.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(h,_){for(var E=0;E<16;E++){var l=_+E,x=h[l];h[l]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var m=this._hash.words,C=h[_+0],S=h[_+1],P=h[_+2],O=h[_+3],N=h[_+4],b=h[_+5],y=h[_+6],A=h[_+7],D=h[_+8],k=h[_+9],U=h[_+10],j=h[_+11],G=h[_+12],H=h[_+13],$=h[_+14],F=h[_+15],T=m[0],R=m[1],w=m[2],I=m[3];T=g(T,R,w,I,C,7,i[0]),I=g(I,T,R,w,S,12,i[1]),w=g(w,I,T,R,P,17,i[2]),R=g(R,w,I,T,O,22,i[3]),T=g(T,R,w,I,N,7,i[4]),I=g(I,T,R,w,b,12,i[5]),w=g(w,I,T,R,y,17,i[6]),R=g(R,w,I,T,A,22,i[7]),T=g(T,R,w,I,D,7,i[8]),I=g(I,T,R,w,k,12,i[9]),w=g(w,I,T,R,U,17,i[10]),R=g(R,w,I,T,j,22,i[11]),T=g(T,R,w,I,G,7,i[12]),I=g(I,T,R,w,H,12,i[13]),w=g(w,I,T,R,$,17,i[14]),R=g(R,w,I,T,F,22,i[15]),T=u(T,R,w,I,S,5,i[16]),I=u(I,T,R,w,y,9,i[17]),w=u(w,I,T,R,j,14,i[18]),R=u(R,w,I,T,C,20,i[19]),T=u(T,R,w,I,b,5,i[20]),I=u(I,T,R,w,U,9,i[21]),w=u(w,I,T,R,F,14,i[22]),R=u(R,w,I,T,N,20,i[23]),T=u(T,R,w,I,k,5,i[24]),I=u(I,T,R,w,$,9,i[25]),w=u(w,I,T,R,O,14,i[26]),R=u(R,w,I,T,D,20,i[27]),T=u(T,R,w,I,H,5,i[28]),I=u(I,T,R,w,P,9,i[29]),w=u(w,I,T,R,A,14,i[30]),R=u(R,w,I,T,G,20,i[31]),T=d(T,R,w,I,b,4,i[32]),I=d(I,T,R,w,D,11,i[33]),w=d(w,I,T,R,j,16,i[34]),R=d(R,w,I,T,$,23,i[35]),T=d(T,R,w,I,S,4,i[36]),I=d(I,T,R,w,N,11,i[37]),w=d(w,I,T,R,A,16,i[38]),R=d(R,w,I,T,U,23,i[39]),T=d(T,R,w,I,H,4,i[40]),I=d(I,T,R,w,C,11,i[41]),w=d(w,I,T,R,O,16,i[42]),R=d(R,w,I,T,y,23,i[43]),T=d(T,R,w,I,k,4,i[44]),I=d(I,T,R,w,G,11,i[45]),w=d(w,I,T,R,F,16,i[46]),R=d(R,w,I,T,P,23,i[47]),T=v(T,R,w,I,C,6,i[48]),I=v(I,T,R,w,A,10,i[49]),w=v(w,I,T,R,$,15,i[50]),R=v(R,w,I,T,b,21,i[51]),T=v(T,R,w,I,G,6,i[52]),I=v(I,T,R,w,O,10,i[53]),w=v(w,I,T,R,U,15,i[54]),R=v(R,w,I,T,S,21,i[55]),T=v(T,R,w,I,D,6,i[56]),I=v(I,T,R,w,F,10,i[57]),w=v(w,I,T,R,y,15,i[58]),R=v(R,w,I,T,H,21,i[59]),T=v(T,R,w,I,N,6,i[60]),I=v(I,T,R,w,j,10,i[61]),w=v(w,I,T,R,P,15,i[62]),R=v(R,w,I,T,k,21,i[63]),m[0]=m[0]+T|0,m[1]=m[1]+R|0,m[2]=m[2]+w|0,m[3]=m[3]+I|0},_doFinalize:function(){var h=this._data,_=h.words,E=this._nDataBytes*8,l=h.sigBytes*8;_[l>>>5]|=128<<24-l%32;var x=n.floor(E/4294967296),m=E;_[(l+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,_[(l+64>>>9<<4)+14]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,h.sigBytes=(_.length+1)*4,this._process();for(var C=this._hash,S=C.words,P=0;P<4;P++){var O=S[P];S[P]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return C},clone:function(){var h=c.clone.call(this);return h._hash=this._hash.clone(),h}});function g(h,_,E,l,x,m,C){var S=h+(_&E|~_&l)+x+C;return(S<<m|S>>>32-m)+_}function u(h,_,E,l,x,m,C){var S=h+(_&l|E&~l)+x+C;return(S<<m|S>>>32-m)+_}function d(h,_,E,l,x,m,C){var S=h+(_^E^l)+x+C;return(S<<m|S>>>32-m)+_}function v(h,_,E,l,x,m,C){var S=h+(E^(_|~l))+x+C;return(S<<m|S>>>32-m)+_}a.MD5=c._createHelper(s),a.HmacMD5=c._createHmacHelper(s)}(Math),t.MD5})}(pt)),pt.exports}var gt={exports:{}},H0;function t0(){return H0||(H0=1,function(e,r){(function(t,n){e.exports=n(V())})(K,function(t){return function(){var n=t,a=n.lib,o=a.WordArray,p=a.Hasher,c=n.algo,f=[],i=c.SHA1=p.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(s,g){for(var u=this._hash.words,d=u[0],v=u[1],h=u[2],_=u[3],E=u[4],l=0;l<80;l++){if(l<16)f[l]=s[g+l]|0;else{var x=f[l-3]^f[l-8]^f[l-14]^f[l-16];f[l]=x<<1|x>>>31}var m=(d<<5|d>>>27)+E+f[l];l<20?m+=(v&h|~v&_)+1518500249:l<40?m+=(v^h^_)+1859775393:l<60?m+=(v&h|v&_|h&_)-1894007588:m+=(v^h^_)-899497514,E=_,_=h,h=v<<30|v>>>2,v=d,d=m}u[0]=u[0]+d|0,u[1]=u[1]+v|0,u[2]=u[2]+h|0,u[3]=u[3]+_|0,u[4]=u[4]+E|0},_doFinalize:function(){var s=this._data,g=s.words,u=this._nDataBytes*8,d=s.sigBytes*8;return g[d>>>5]|=128<<24-d%32,g[(d+64>>>9<<4)+14]=Math.floor(u/4294967296),g[(d+64>>>9<<4)+15]=u,s.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var s=p.clone.call(this);return s._hash=this._hash.clone(),s}});n.SHA1=p._createHelper(i),n.HmacSHA1=p._createHmacHelper(i)}(),t.SHA1})}(gt)),gt.exports}var mt={exports:{}},F0;function Hn(){return F0||(F0=1,function(e,r){(function(t,n){e.exports=n(V())})(K,function(t){return function(n){var a=t,o=a.lib,p=o.WordArray,c=o.Hasher,f=a.algo,i=[],s=[];(function(){function d(E){for(var l=n.sqrt(E),x=2;x<=l;x++)if(!(E%x))return!1;return!0}function v(E){return(E-(E|0))*4294967296|0}for(var h=2,_=0;_<64;)d(h)&&(_<8&&(i[_]=v(n.pow(h,1/2))),s[_]=v(n.pow(h,1/3)),_++),h++})();var g=[],u=f.SHA256=c.extend({_doReset:function(){this._hash=new p.init(i.slice(0))},_doProcessBlock:function(d,v){for(var h=this._hash.words,_=h[0],E=h[1],l=h[2],x=h[3],m=h[4],C=h[5],S=h[6],P=h[7],O=0;O<64;O++){if(O<16)g[O]=d[v+O]|0;else{var N=g[O-15],b=(N<<25|N>>>7)^(N<<14|N>>>18)^N>>>3,y=g[O-2],A=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;g[O]=b+g[O-7]+A+g[O-16]}var D=m&C^~m&S,k=_&E^_&l^E&l,U=(_<<30|_>>>2)^(_<<19|_>>>13)^(_<<10|_>>>22),j=(m<<26|m>>>6)^(m<<21|m>>>11)^(m<<7|m>>>25),G=P+j+D+s[O]+g[O],H=U+k;P=S,S=C,C=m,m=x+G|0,x=l,l=E,E=_,_=G+H|0}h[0]=h[0]+_|0,h[1]=h[1]+E|0,h[2]=h[2]+l|0,h[3]=h[3]+x|0,h[4]=h[4]+m|0,h[5]=h[5]+C|0,h[6]=h[6]+S|0,h[7]=h[7]+P|0},_doFinalize:function(){var d=this._data,v=d.words,h=this._nDataBytes*8,_=d.sigBytes*8;return v[_>>>5]|=128<<24-_%32,v[(_+64>>>9<<4)+14]=n.floor(h/4294967296),v[(_+64>>>9<<4)+15]=h,d.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var d=c.clone.call(this);return d._hash=this._hash.clone(),d}});a.SHA256=c._createHelper(u),a.HmacSHA256=c._createHmacHelper(u)}(Math),t.SHA256})}(mt)),mt.exports}var _t={exports:{}},$0;function Lo(){return $0||($0=1,function(e,r){(function(t,n,a){e.exports=n(V(),Hn())})(K,function(t){return function(){var n=t,a=n.lib,o=a.WordArray,p=n.algo,c=p.SHA256,f=p.SHA224=c.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var i=c._doFinalize.call(this);return i.sigBytes-=4,i}});n.SHA224=c._createHelper(f),n.HmacSHA224=c._createHmacHelper(f)}(),t.SHA224})}(_t)),_t.exports}var bt={exports:{}},L0;function Fn(){return L0||(L0=1,function(e,r){(function(t,n,a){e.exports=n(V(),Fr())})(K,function(t){return function(){var n=t,a=n.lib,o=a.Hasher,p=n.x64,c=p.Word,f=p.WordArray,i=n.algo;function s(){return c.create.apply(c,arguments)}var g=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];(function(){for(var v=0;v<80;v++)u[v]=s()})();var d=i.SHA512=o.extend({_doReset:function(){this._hash=new f.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(v,h){for(var _=this._hash.words,E=_[0],l=_[1],x=_[2],m=_[3],C=_[4],S=_[5],P=_[6],O=_[7],N=E.high,b=E.low,y=l.high,A=l.low,D=x.high,k=x.low,U=m.high,j=m.low,G=C.high,H=C.low,$=S.high,F=S.low,T=P.high,R=P.low,w=O.high,I=O.low,z=N,L=b,re=y,B=A,je=D,Ae=k,Xr=U,Ve=j,le=G,ie=H,ar=$,Me=F,ir=T,He=R,Qr=w,Fe=I,ve=0;ve<80;ve++){var fe,Ee,or=u[ve];if(ve<16)Ee=or.high=v[h+ve*2]|0,fe=or.low=v[h+ve*2+1]|0;else{var a0=u[ve-15],Ie=a0.high,$e=a0.low,Ln=(Ie>>>1|$e<<31)^(Ie>>>8|$e<<24)^Ie>>>7,i0=($e>>>1|Ie<<31)^($e>>>8|Ie<<24)^($e>>>7|Ie<<25),o0=u[ve-2],De=o0.high,Le=o0.low,Gn=(De>>>19|Le<<13)^(De<<3|Le>>>29)^De>>>6,s0=(Le>>>19|De<<13)^(Le<<3|De>>>29)^(Le>>>6|De<<26),u0=u[ve-7],zn=u0.high,qn=u0.low,c0=u[ve-16],Wn=c0.high,f0=c0.low;fe=i0+qn,Ee=Ln+zn+(fe>>>0<i0>>>0?1:0),fe=fe+s0,Ee=Ee+Gn+(fe>>>0<s0>>>0?1:0),fe=fe+f0,Ee=Ee+Wn+(fe>>>0<f0>>>0?1:0),or.high=Ee,or.low=fe}var Yn=le&ar^~le&ir,l0=ie&Me^~ie&He,Xn=z&re^z&je^re&je,Qn=L&B^L&Ae^B&Ae,Zn=(z>>>28|L<<4)^(z<<30|L>>>2)^(z<<25|L>>>7),v0=(L>>>28|z<<4)^(L<<30|z>>>2)^(L<<25|z>>>7),Jn=(le>>>14|ie<<18)^(le>>>18|ie<<14)^(le<<23|ie>>>9),ea=(ie>>>14|le<<18)^(ie>>>18|le<<14)^(ie<<23|le>>>9),d0=g[ve],ra=d0.high,x0=d0.low,oe=Fe+ea,Ce=Qr+Jn+(oe>>>0<Fe>>>0?1:0),oe=oe+l0,Ce=Ce+Yn+(oe>>>0<l0>>>0?1:0),oe=oe+x0,Ce=Ce+ra+(oe>>>0<x0>>>0?1:0),oe=oe+fe,Ce=Ce+Ee+(oe>>>0<fe>>>0?1:0),h0=v0+Qn,ta=Zn+Xn+(h0>>>0<v0>>>0?1:0);Qr=ir,Fe=He,ir=ar,He=Me,ar=le,Me=ie,ie=Ve+oe|0,le=Xr+Ce+(ie>>>0<Ve>>>0?1:0)|0,Xr=je,Ve=Ae,je=re,Ae=B,re=z,B=L,L=oe+h0|0,z=Ce+ta+(L>>>0<oe>>>0?1:0)|0}b=E.low=b+L,E.high=N+z+(b>>>0<L>>>0?1:0),A=l.low=A+B,l.high=y+re+(A>>>0<B>>>0?1:0),k=x.low=k+Ae,x.high=D+je+(k>>>0<Ae>>>0?1:0),j=m.low=j+Ve,m.high=U+Xr+(j>>>0<Ve>>>0?1:0),H=C.low=H+ie,C.high=G+le+(H>>>0<ie>>>0?1:0),F=S.low=F+Me,S.high=$+ar+(F>>>0<Me>>>0?1:0),R=P.low=R+He,P.high=T+ir+(R>>>0<He>>>0?1:0),I=O.low=I+Fe,O.high=w+Qr+(I>>>0<Fe>>>0?1:0)},_doFinalize:function(){var v=this._data,h=v.words,_=this._nDataBytes*8,E=v.sigBytes*8;h[E>>>5]|=128<<24-E%32,h[(E+128>>>10<<5)+30]=Math.floor(_/4294967296),h[(E+128>>>10<<5)+31]=_,v.sigBytes=h.length*4,this._process();var l=this._hash.toX32();return l},clone:function(){var v=o.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});n.SHA512=o._createHelper(d),n.HmacSHA512=o._createHmacHelper(d)}(),t.SHA512})}(bt)),bt.exports}var yt={exports:{}},G0;function Go(){return G0||(G0=1,function(e,r){(function(t,n,a){e.exports=n(V(),Fr(),Fn())})(K,function(t){return function(){var n=t,a=n.x64,o=a.Word,p=a.WordArray,c=n.algo,f=c.SHA512,i=c.SHA384=f.extend({_doReset:function(){this._hash=new p.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var s=f._doFinalize.call(this);return s.sigBytes-=16,s}});n.SHA384=f._createHelper(i),n.HmacSHA384=f._createHmacHelper(i)}(),t.SHA384})}(yt)),yt.exports}var Et={exports:{}},z0;function zo(){return z0||(z0=1,function(e,r){(function(t,n,a){e.exports=n(V(),Fr())})(K,function(t){return function(n){var a=t,o=a.lib,p=o.WordArray,c=o.Hasher,f=a.x64,i=f.Word,s=a.algo,g=[],u=[],d=[];(function(){for(var _=1,E=0,l=0;l<24;l++){g[_+5*E]=(l+1)*(l+2)/2%64;var x=E%5,m=(2*_+3*E)%5;_=x,E=m}for(var _=0;_<5;_++)for(var E=0;E<5;E++)u[_+5*E]=E+(2*_+3*E)%5*5;for(var C=1,S=0;S<24;S++){for(var P=0,O=0,N=0;N<7;N++){if(C&1){var b=(1<<N)-1;b<32?O^=1<<b:P^=1<<b-32}C&128?C=C<<1^113:C<<=1}d[S]=i.create(P,O)}})();var v=[];(function(){for(var _=0;_<25;_++)v[_]=i.create()})();var h=s.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var _=this._state=[],E=0;E<25;E++)_[E]=new i.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(_,E){for(var l=this._state,x=this.blockSize/2,m=0;m<x;m++){var C=_[E+2*m],S=_[E+2*m+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var P=l[m];P.high^=S,P.low^=C}for(var O=0;O<24;O++){for(var N=0;N<5;N++){for(var b=0,y=0,A=0;A<5;A++){var P=l[N+5*A];b^=P.high,y^=P.low}var D=v[N];D.high=b,D.low=y}for(var N=0;N<5;N++)for(var k=v[(N+4)%5],U=v[(N+1)%5],j=U.high,G=U.low,b=k.high^(j<<1|G>>>31),y=k.low^(G<<1|j>>>31),A=0;A<5;A++){var P=l[N+5*A];P.high^=b,P.low^=y}for(var H=1;H<25;H++){var b,y,P=l[H],$=P.high,F=P.low,T=g[H];T<32?(b=$<<T|F>>>32-T,y=F<<T|$>>>32-T):(b=F<<T-32|$>>>64-T,y=$<<T-32|F>>>64-T);var R=v[u[H]];R.high=b,R.low=y}var w=v[0],I=l[0];w.high=I.high,w.low=I.low;for(var N=0;N<5;N++)for(var A=0;A<5;A++){var H=N+5*A,P=l[H],z=v[H],L=v[(N+1)%5+5*A],re=v[(N+2)%5+5*A];P.high=z.high^~L.high&re.high,P.low=z.low^~L.low&re.low}var P=l[0],B=d[O];P.high^=B.high,P.low^=B.low}},_doFinalize:function(){var _=this._data,E=_.words;this._nDataBytes*8;var l=_.sigBytes*8,x=this.blockSize*32;E[l>>>5]|=1<<24-l%32,E[(n.ceil((l+1)/x)*x>>>5)-1]|=128,_.sigBytes=E.length*4,this._process();for(var m=this._state,C=this.cfg.outputLength/8,S=C/8,P=[],O=0;O<S;O++){var N=m[O],b=N.high,y=N.low;b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,y=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,P.push(y),P.push(b)}return new p.init(P,C)},clone:function(){for(var _=c.clone.call(this),E=_._state=this._state.slice(0),l=0;l<25;l++)E[l]=E[l].clone();return _}});a.SHA3=c._createHelper(h),a.HmacSHA3=c._createHmacHelper(h)}(Math),t.SHA3})}(Et)),Et.exports}var Ct={exports:{}},q0;function qo(){return q0||(q0=1,function(e,r){(function(t,n){e.exports=n(V())})(K,function(t){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var a=t,o=a.lib,p=o.WordArray,c=o.Hasher,f=a.algo,i=p.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=p.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),g=p.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=p.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=p.create([0,1518500249,1859775393,2400959708,2840853838]),v=p.create([1352829926,1548603684,1836072691,2053994217,0]),h=f.RIPEMD160=c.extend({_doReset:function(){this._hash=p.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,P){for(var O=0;O<16;O++){var N=P+O,b=S[N];S[N]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var y=this._hash.words,A=d.words,D=v.words,k=i.words,U=s.words,j=g.words,G=u.words,H,$,F,T,R,w,I,z,L,re;w=H=y[0],I=$=y[1],z=F=y[2],L=T=y[3],re=R=y[4];for(var B,O=0;O<80;O+=1)B=H+S[P+k[O]]|0,O<16?B+=_($,F,T)+A[0]:O<32?B+=E($,F,T)+A[1]:O<48?B+=l($,F,T)+A[2]:O<64?B+=x($,F,T)+A[3]:B+=m($,F,T)+A[4],B=B|0,B=C(B,j[O]),B=B+R|0,H=R,R=T,T=C(F,10),F=$,$=B,B=w+S[P+U[O]]|0,O<16?B+=m(I,z,L)+D[0]:O<32?B+=x(I,z,L)+D[1]:O<48?B+=l(I,z,L)+D[2]:O<64?B+=E(I,z,L)+D[3]:B+=_(I,z,L)+D[4],B=B|0,B=C(B,G[O]),B=B+re|0,w=re,re=L,L=C(z,10),z=I,I=B;B=y[1]+F+L|0,y[1]=y[2]+T+re|0,y[2]=y[3]+R+w|0,y[3]=y[4]+H+I|0,y[4]=y[0]+$+z|0,y[0]=B},_doFinalize:function(){var S=this._data,P=S.words,O=this._nDataBytes*8,N=S.sigBytes*8;P[N>>>5]|=128<<24-N%32,P[(N+64>>>9<<4)+14]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,S.sigBytes=(P.length+1)*4,this._process();for(var b=this._hash,y=b.words,A=0;A<5;A++){var D=y[A];y[A]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return b},clone:function(){var S=c.clone.call(this);return S._hash=this._hash.clone(),S}});function _(S,P,O){return S^P^O}function E(S,P,O){return S&P|~S&O}function l(S,P,O){return(S|~P)^O}function x(S,P,O){return S&O|P&~O}function m(S,P,O){return S^(P|~O)}function C(S,P){return S<<P|S>>>32-P}a.RIPEMD160=c._createHelper(h),a.HmacRIPEMD160=c._createHmacHelper(h)}(),t.RIPEMD160})}(Ct)),Ct.exports}var St={exports:{}},W0;function n0(){return W0||(W0=1,function(e,r){(function(t,n){e.exports=n(V())})(K,function(t){(function(){var n=t,a=n.lib,o=a.Base,p=n.enc,c=p.Utf8,f=n.algo;f.HMAC=o.extend({init:function(i,s){i=this._hasher=new i.init,typeof s=="string"&&(s=c.parse(s));var g=i.blockSize,u=g*4;s.sigBytes>u&&(s=i.finalize(s)),s.clamp();for(var d=this._oKey=s.clone(),v=this._iKey=s.clone(),h=d.words,_=v.words,E=0;E<g;E++)h[E]^=1549556828,_[E]^=909522486;d.sigBytes=v.sigBytes=u,this.reset()},reset:function(){var i=this._hasher;i.reset(),i.update(this._iKey)},update:function(i){return this._hasher.update(i),this},finalize:function(i){var s=this._hasher,g=s.finalize(i);s.reset();var u=s.finalize(this._oKey.clone().concat(g));return u}})})()})}(St)),St.exports}var Pt={exports:{}},Y0;function Wo(){return Y0||(Y0=1,function(e,r){(function(t,n,a){e.exports=n(V(),t0(),n0())})(K,function(t){return function(){var n=t,a=n.lib,o=a.Base,p=a.WordArray,c=n.algo,f=c.SHA1,i=c.HMAC,s=c.PBKDF2=o.extend({cfg:o.extend({keySize:128/32,hasher:f,iterations:1}),init:function(g){this.cfg=this.cfg.extend(g)},compute:function(g,u){for(var d=this.cfg,v=i.create(d.hasher,g),h=p.create(),_=p.create([1]),E=h.words,l=_.words,x=d.keySize,m=d.iterations;E.length<x;){var C=v.update(u).finalize(_);v.reset();for(var S=C.words,P=S.length,O=C,N=1;N<m;N++){O=v.finalize(O),v.reset();for(var b=O.words,y=0;y<P;y++)S[y]^=b[y]}h.concat(C),l[0]++}return h.sigBytes=x*4,h}});n.PBKDF2=function(g,u,d){return s.create(d).compute(g,u)}}(),t.PBKDF2})}(Pt)),Pt.exports}var Ot={exports:{}},X0;function Te(){return X0||(X0=1,function(e,r){(function(t,n,a){e.exports=n(V(),t0(),n0())})(K,function(t){return function(){var n=t,a=n.lib,o=a.Base,p=a.WordArray,c=n.algo,f=c.MD5,i=c.EvpKDF=o.extend({cfg:o.extend({keySize:128/32,hasher:f,iterations:1}),init:function(s){this.cfg=this.cfg.extend(s)},compute:function(s,g){for(var u,d=this.cfg,v=d.hasher.create(),h=p.create(),_=h.words,E=d.keySize,l=d.iterations;_.length<E;){u&&v.update(u),u=v.update(s).finalize(g),v.reset();for(var x=1;x<l;x++)u=v.finalize(u),v.reset();h.concat(u)}return h.sigBytes=E*4,h}});n.EvpKDF=function(s,g,u){return i.create(u).compute(s,g)}}(),t.EvpKDF})}(Ot)),Ot.exports}var Tt={exports:{}},Q0;function Z(){return Q0||(Q0=1,function(e,r){(function(t,n,a){e.exports=n(V(),Te())})(K,function(t){t.lib.Cipher||function(n){var a=t,o=a.lib,p=o.Base,c=o.WordArray,f=o.BufferedBlockAlgorithm,i=a.enc;i.Utf8;var s=i.Base64,g=a.algo,u=g.EvpKDF,d=o.Cipher=f.extend({cfg:p.extend(),createEncryptor:function(b,y){return this.create(this._ENC_XFORM_MODE,b,y)},createDecryptor:function(b,y){return this.create(this._DEC_XFORM_MODE,b,y)},init:function(b,y,A){this.cfg=this.cfg.extend(A),this._xformMode=b,this._key=y,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(b){return this._append(b),this._process()},finalize:function(b){b&&this._append(b);var y=this._doFinalize();return y},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function b(y){return typeof y=="string"?N:S}return function(y){return{encrypt:function(A,D,k){return b(D).encrypt(y,A,D,k)},decrypt:function(A,D,k){return b(D).decrypt(y,A,D,k)}}}}()});o.StreamCipher=d.extend({_doFinalize:function(){var b=this._process(!0);return b},blockSize:1});var v=a.mode={},h=o.BlockCipherMode=p.extend({createEncryptor:function(b,y){return this.Encryptor.create(b,y)},createDecryptor:function(b,y){return this.Decryptor.create(b,y)},init:function(b,y){this._cipher=b,this._iv=y}}),_=v.CBC=function(){var b=h.extend();b.Encryptor=b.extend({processBlock:function(A,D){var k=this._cipher,U=k.blockSize;y.call(this,A,D,U),k.encryptBlock(A,D),this._prevBlock=A.slice(D,D+U)}}),b.Decryptor=b.extend({processBlock:function(A,D){var k=this._cipher,U=k.blockSize,j=A.slice(D,D+U);k.decryptBlock(A,D),y.call(this,A,D,U),this._prevBlock=j}});function y(A,D,k){var U,j=this._iv;j?(U=j,this._iv=n):U=this._prevBlock;for(var G=0;G<k;G++)A[D+G]^=U[G]}return b}(),E=a.pad={},l=E.Pkcs7={pad:function(b,y){for(var A=y*4,D=A-b.sigBytes%A,k=D<<24|D<<16|D<<8|D,U=[],j=0;j<D;j+=4)U.push(k);var G=c.create(U,D);b.concat(G)},unpad:function(b){var y=b.words[b.sigBytes-1>>>2]&255;b.sigBytes-=y}};o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:_,padding:l}),reset:function(){var b;d.reset.call(this);var y=this.cfg,A=y.iv,D=y.mode;this._xformMode==this._ENC_XFORM_MODE?b=D.createEncryptor:(b=D.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==b?this._mode.init(this,A&&A.words):(this._mode=b.call(D,this,A&&A.words),this._mode.__creator=b)},_doProcessBlock:function(b,y){this._mode.processBlock(b,y)},_doFinalize:function(){var b,y=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(y.pad(this._data,this.blockSize),b=this._process(!0)):(b=this._process(!0),y.unpad(b)),b},blockSize:128/32});var x=o.CipherParams=p.extend({init:function(b){this.mixIn(b)},toString:function(b){return(b||this.formatter).stringify(this)}}),m=a.format={},C=m.OpenSSL={stringify:function(b){var y,A=b.ciphertext,D=b.salt;return D?y=c.create([1398893684,1701076831]).concat(D).concat(A):y=A,y.toString(s)},parse:function(b){var y,A=s.parse(b),D=A.words;return D[0]==1398893684&&D[1]==1701076831&&(y=c.create(D.slice(2,4)),D.splice(0,4),A.sigBytes-=16),x.create({ciphertext:A,salt:y})}},S=o.SerializableCipher=p.extend({cfg:p.extend({format:C}),encrypt:function(b,y,A,D){D=this.cfg.extend(D);var k=b.createEncryptor(A,D),U=k.finalize(y),j=k.cfg;return x.create({ciphertext:U,key:A,iv:j.iv,algorithm:b,mode:j.mode,padding:j.padding,blockSize:b.blockSize,formatter:D.format})},decrypt:function(b,y,A,D){D=this.cfg.extend(D),y=this._parse(y,D.format);var k=b.createDecryptor(A,D).finalize(y.ciphertext);return k},_parse:function(b,y){return typeof b=="string"?y.parse(b,this):b}}),P=a.kdf={},O=P.OpenSSL={execute:function(b,y,A,D){D||(D=c.random(64/8));var k=u.create({keySize:y+A}).compute(b,D),U=c.create(k.words.slice(y),A*4);return k.sigBytes=y*4,x.create({key:k,iv:U,salt:D})}},N=o.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:O}),encrypt:function(b,y,A,D){D=this.cfg.extend(D);var k=D.kdf.execute(A,b.keySize,b.ivSize);D.iv=k.iv;var U=S.encrypt.call(this,b,y,k.key,D);return U.mixIn(k),U},decrypt:function(b,y,A,D){D=this.cfg.extend(D),y=this._parse(y,D.format);var k=D.kdf.execute(A,b.keySize,b.ivSize,y.salt);D.iv=k.iv;var U=S.decrypt.call(this,b,y,k.key,D);return U}})}()})}(Tt)),Tt.exports}var At={exports:{}},Z0;function Yo(){return Z0||(Z0=1,function(e,r){(function(t,n,a){e.exports=n(V(),Z())})(K,function(t){return t.mode.CFB=function(){var n=t.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(o,p){var c=this._cipher,f=c.blockSize;a.call(this,o,p,f,c),this._prevBlock=o.slice(p,p+f)}}),n.Decryptor=n.extend({processBlock:function(o,p){var c=this._cipher,f=c.blockSize,i=o.slice(p,p+f);a.call(this,o,p,f,c),this._prevBlock=i}});function a(o,p,c,f){var i,s=this._iv;s?(i=s.slice(0),this._iv=void 0):i=this._prevBlock,f.encryptBlock(i,0);for(var g=0;g<c;g++)o[p+g]^=i[g]}return n}(),t.mode.CFB})}(At)),At.exports}var It={exports:{}},J0;function Xo(){return J0||(J0=1,function(e,r){(function(t,n,a){e.exports=n(V(),Z())})(K,function(t){return t.mode.CTR=function(){var n=t.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(o,p){var c=this._cipher,f=c.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0);var g=s.slice(0);c.encryptBlock(g,0),s[f-1]=s[f-1]+1|0;for(var u=0;u<f;u++)o[p+u]^=g[u]}});return n.Decryptor=a,n}(),t.mode.CTR})}(It)),It.exports}var Dt={exports:{}},en;function Qo(){return en||(en=1,function(e,r){(function(t,n,a){e.exports=n(V(),Z())})(K,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var n=t.lib.BlockCipherMode.extend();function a(c){if((c>>24&255)===255){var f=c>>16&255,i=c>>8&255,s=c&255;f===255?(f=0,i===255?(i=0,s===255?s=0:++s):++i):++f,c=0,c+=f<<16,c+=i<<8,c+=s}else c+=1<<24;return c}function o(c){return(c[0]=a(c[0]))===0&&(c[1]=a(c[1])),c}var p=n.Encryptor=n.extend({processBlock:function(c,f){var i=this._cipher,s=i.blockSize,g=this._iv,u=this._counter;g&&(u=this._counter=g.slice(0),this._iv=void 0),o(u);var d=u.slice(0);i.encryptBlock(d,0);for(var v=0;v<s;v++)c[f+v]^=d[v]}});return n.Decryptor=p,n}(),t.mode.CTRGladman})}(Dt)),Dt.exports}var Rt={exports:{}},rn;function Zo(){return rn||(rn=1,function(e,r){(function(t,n,a){e.exports=n(V(),Z())})(K,function(t){return t.mode.OFB=function(){var n=t.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(o,p){var c=this._cipher,f=c.blockSize,i=this._iv,s=this._keystream;i&&(s=this._keystream=i.slice(0),this._iv=void 0),c.encryptBlock(s,0);for(var g=0;g<f;g++)o[p+g]^=s[g]}});return n.Decryptor=a,n}(),t.mode.OFB})}(Rt)),Rt.exports}var wt={exports:{}},tn;function Jo(){return tn||(tn=1,function(e,r){(function(t,n,a){e.exports=n(V(),Z())})(K,function(t){return t.mode.ECB=function(){var n=t.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(a,o){this._cipher.encryptBlock(a,o)}}),n.Decryptor=n.extend({processBlock:function(a,o){this._cipher.decryptBlock(a,o)}}),n}(),t.mode.ECB})}(wt)),wt.exports}var Nt={exports:{}},nn;function es(){return nn||(nn=1,function(e,r){(function(t,n,a){e.exports=n(V(),Z())})(K,function(t){return t.pad.AnsiX923={pad:function(n,a){var o=n.sigBytes,p=a*4,c=p-o%p,f=o+c-1;n.clamp(),n.words[f>>>2]|=c<<24-f%4*8,n.sigBytes+=c},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},t.pad.Ansix923})}(Nt)),Nt.exports}var kt={exports:{}},an;function rs(){return an||(an=1,function(e,r){(function(t,n,a){e.exports=n(V(),Z())})(K,function(t){return t.pad.Iso10126={pad:function(n,a){var o=a*4,p=o-n.sigBytes%o;n.concat(t.lib.WordArray.random(p-1)).concat(t.lib.WordArray.create([p<<24],1))},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},t.pad.Iso10126})}(kt)),kt.exports}var Ut={exports:{}},on;function ts(){return on||(on=1,function(e,r){(function(t,n,a){e.exports=n(V(),Z())})(K,function(t){return t.pad.Iso97971={pad:function(n,a){n.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(n,a)},unpad:function(n){t.pad.ZeroPadding.unpad(n),n.sigBytes--}},t.pad.Iso97971})}(Ut)),Ut.exports}var Bt={exports:{}},sn;function ns(){return sn||(sn=1,function(e,r){(function(t,n,a){e.exports=n(V(),Z())})(K,function(t){return t.pad.ZeroPadding={pad:function(n,a){var o=a*4;n.clamp(),n.sigBytes+=o-(n.sigBytes%o||o)},unpad:function(n){for(var a=n.words,o=n.sigBytes-1,o=n.sigBytes-1;o>=0;o--)if(a[o>>>2]>>>24-o%4*8&255){n.sigBytes=o+1;break}}},t.pad.ZeroPadding})}(Bt)),Bt.exports}var Kt={exports:{}},un;function as(){return un||(un=1,function(e,r){(function(t,n,a){e.exports=n(V(),Z())})(K,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})}(Kt)),Kt.exports}var jt={exports:{}},cn;function is(){return cn||(cn=1,function(e,r){(function(t,n,a){e.exports=n(V(),Z())})(K,function(t){return function(n){var a=t,o=a.lib,p=o.CipherParams,c=a.enc,f=c.Hex,i=a.format;i.Hex={stringify:function(s){return s.ciphertext.toString(f)},parse:function(s){var g=f.parse(s);return p.create({ciphertext:g})}}}(),t.format.Hex})}(jt)),jt.exports}var Vt={exports:{}},fn;function os(){return fn||(fn=1,function(e,r){(function(t,n,a){e.exports=n(V(),Be(),Ke(),Te(),Z())})(K,function(t){return function(){var n=t,a=n.lib,o=a.BlockCipher,p=n.algo,c=[],f=[],i=[],s=[],g=[],u=[],d=[],v=[],h=[],_=[];(function(){for(var x=[],m=0;m<256;m++)m<128?x[m]=m<<1:x[m]=m<<1^283;for(var C=0,S=0,m=0;m<256;m++){var P=S^S<<1^S<<2^S<<3^S<<4;P=P>>>8^P&255^99,c[C]=P,f[P]=C;var O=x[C],N=x[O],b=x[N],y=x[P]*257^P*16843008;i[C]=y<<24|y>>>8,s[C]=y<<16|y>>>16,g[C]=y<<8|y>>>24,u[C]=y;var y=b*16843009^N*65537^O*257^C*16843008;d[P]=y<<24|y>>>8,v[P]=y<<16|y>>>16,h[P]=y<<8|y>>>24,_[P]=y,C?(C=O^x[x[x[b^O]]],S^=x[x[S]]):C=S=1}})();var E=[0,1,2,4,8,16,32,64,128,27,54],l=p.AES=o.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var m=this._keyPriorReset=this._key,C=m.words,S=m.sigBytes/4,P=this._nRounds=S+6,O=(P+1)*4,N=this._keySchedule=[],b=0;b<O;b++)b<S?N[b]=C[b]:(x=N[b-1],b%S?S>6&&b%S==4&&(x=c[x>>>24]<<24|c[x>>>16&255]<<16|c[x>>>8&255]<<8|c[x&255]):(x=x<<8|x>>>24,x=c[x>>>24]<<24|c[x>>>16&255]<<16|c[x>>>8&255]<<8|c[x&255],x^=E[b/S|0]<<24),N[b]=N[b-S]^x);for(var y=this._invKeySchedule=[],A=0;A<O;A++){var b=O-A;if(A%4)var x=N[b];else var x=N[b-4];A<4||b<=4?y[A]=x:y[A]=d[c[x>>>24]]^v[c[x>>>16&255]]^h[c[x>>>8&255]]^_[c[x&255]]}}},encryptBlock:function(x,m){this._doCryptBlock(x,m,this._keySchedule,i,s,g,u,c)},decryptBlock:function(x,m){var C=x[m+1];x[m+1]=x[m+3],x[m+3]=C,this._doCryptBlock(x,m,this._invKeySchedule,d,v,h,_,f);var C=x[m+1];x[m+1]=x[m+3],x[m+3]=C},_doCryptBlock:function(x,m,C,S,P,O,N,b){for(var y=this._nRounds,A=x[m]^C[0],D=x[m+1]^C[1],k=x[m+2]^C[2],U=x[m+3]^C[3],j=4,G=1;G<y;G++){var H=S[A>>>24]^P[D>>>16&255]^O[k>>>8&255]^N[U&255]^C[j++],$=S[D>>>24]^P[k>>>16&255]^O[U>>>8&255]^N[A&255]^C[j++],F=S[k>>>24]^P[U>>>16&255]^O[A>>>8&255]^N[D&255]^C[j++],T=S[U>>>24]^P[A>>>16&255]^O[D>>>8&255]^N[k&255]^C[j++];A=H,D=$,k=F,U=T}var H=(b[A>>>24]<<24|b[D>>>16&255]<<16|b[k>>>8&255]<<8|b[U&255])^C[j++],$=(b[D>>>24]<<24|b[k>>>16&255]<<16|b[U>>>8&255]<<8|b[A&255])^C[j++],F=(b[k>>>24]<<24|b[U>>>16&255]<<16|b[A>>>8&255]<<8|b[D&255])^C[j++],T=(b[U>>>24]<<24|b[A>>>16&255]<<16|b[D>>>8&255]<<8|b[k&255])^C[j++];x[m]=H,x[m+1]=$,x[m+2]=F,x[m+3]=T},keySize:256/32});n.AES=o._createHelper(l)}(),t.AES})}(Vt)),Vt.exports}var Mt={exports:{}},ln;function ss(){return ln||(ln=1,function(e,r){(function(t,n,a){e.exports=n(V(),Be(),Ke(),Te(),Z())})(K,function(t){return function(){var n=t,a=n.lib,o=a.WordArray,p=a.BlockCipher,c=n.algo,f=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],i=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],s=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],g=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=c.DES=p.extend({_doReset:function(){for(var E=this._key,l=E.words,x=[],m=0;m<56;m++){var C=f[m]-1;x[m]=l[C>>>5]>>>31-C%32&1}for(var S=this._subKeys=[],P=0;P<16;P++){for(var O=S[P]=[],N=s[P],m=0;m<24;m++)O[m/6|0]|=x[(i[m]-1+N)%28]<<31-m%6,O[4+(m/6|0)]|=x[28+(i[m+24]-1+N)%28]<<31-m%6;O[0]=O[0]<<1|O[0]>>>31;for(var m=1;m<7;m++)O[m]=O[m]>>>(m-1)*4+3;O[7]=O[7]<<5|O[7]>>>27}for(var b=this._invSubKeys=[],m=0;m<16;m++)b[m]=S[15-m]},encryptBlock:function(E,l){this._doCryptBlock(E,l,this._subKeys)},decryptBlock:function(E,l){this._doCryptBlock(E,l,this._invSubKeys)},_doCryptBlock:function(E,l,x){this._lBlock=E[l],this._rBlock=E[l+1],v.call(this,4,252645135),v.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),v.call(this,1,1431655765);for(var m=0;m<16;m++){for(var C=x[m],S=this._lBlock,P=this._rBlock,O=0,N=0;N<8;N++)O|=g[N][((P^C[N])&u[N])>>>0];this._lBlock=P,this._rBlock=S^O}var b=this._lBlock;this._lBlock=this._rBlock,this._rBlock=b,v.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),E[l]=this._lBlock,E[l+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(E,l){var x=(this._lBlock>>>E^this._rBlock)&l;this._rBlock^=x,this._lBlock^=x<<E}function h(E,l){var x=(this._rBlock>>>E^this._lBlock)&l;this._lBlock^=x,this._rBlock^=x<<E}n.DES=p._createHelper(d);var _=c.TripleDES=p.extend({_doReset:function(){var E=this._key,l=E.words;if(l.length!==2&&l.length!==4&&l.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=l.slice(0,2),m=l.length<4?l.slice(0,2):l.slice(2,4),C=l.length<6?l.slice(0,2):l.slice(4,6);this._des1=d.createEncryptor(o.create(x)),this._des2=d.createEncryptor(o.create(m)),this._des3=d.createEncryptor(o.create(C))},encryptBlock:function(E,l){this._des1.encryptBlock(E,l),this._des2.decryptBlock(E,l),this._des3.encryptBlock(E,l)},decryptBlock:function(E,l){this._des3.decryptBlock(E,l),this._des2.encryptBlock(E,l),this._des1.decryptBlock(E,l)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=p._createHelper(_)}(),t.TripleDES})}(Mt)),Mt.exports}var Ht={exports:{}},vn;function us(){return vn||(vn=1,function(e,r){(function(t,n,a){e.exports=n(V(),Be(),Ke(),Te(),Z())})(K,function(t){return function(){var n=t,a=n.lib,o=a.StreamCipher,p=n.algo,c=p.RC4=o.extend({_doReset:function(){for(var s=this._key,g=s.words,u=s.sigBytes,d=this._S=[],v=0;v<256;v++)d[v]=v;for(var v=0,h=0;v<256;v++){var _=v%u,E=g[_>>>2]>>>24-_%4*8&255;h=(h+d[v]+E)%256;var l=d[v];d[v]=d[h],d[h]=l}this._i=this._j=0},_doProcessBlock:function(s,g){s[g]^=f.call(this)},keySize:256/32,ivSize:0});function f(){for(var s=this._S,g=this._i,u=this._j,d=0,v=0;v<4;v++){g=(g+1)%256,u=(u+s[g])%256;var h=s[g];s[g]=s[u],s[u]=h,d|=s[(s[g]+s[u])%256]<<24-v*8}return this._i=g,this._j=u,d}n.RC4=o._createHelper(c);var i=p.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var s=this.cfg.drop;s>0;s--)f.call(this)}});n.RC4Drop=o._createHelper(i)}(),t.RC4})}(Ht)),Ht.exports}var Ft={exports:{}},dn;function cs(){return dn||(dn=1,function(e,r){(function(t,n,a){e.exports=n(V(),Be(),Ke(),Te(),Z())})(K,function(t){return function(){var n=t,a=n.lib,o=a.StreamCipher,p=n.algo,c=[],f=[],i=[],s=p.Rabbit=o.extend({_doReset:function(){for(var u=this._key.words,d=this.cfg.iv,v=0;v<4;v++)u[v]=(u[v]<<8|u[v]>>>24)&16711935|(u[v]<<24|u[v]>>>8)&4278255360;var h=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],_=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var v=0;v<4;v++)g.call(this);for(var v=0;v<8;v++)_[v]^=h[v+4&7];if(d){var E=d.words,l=E[0],x=E[1],m=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360,C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=m>>>16|C&4294901760,P=C<<16|m&65535;_[0]^=m,_[1]^=S,_[2]^=C,_[3]^=P,_[4]^=m,_[5]^=S,_[6]^=C,_[7]^=P;for(var v=0;v<4;v++)g.call(this)}},_doProcessBlock:function(u,d){var v=this._X;g.call(this),c[0]=v[0]^v[5]>>>16^v[3]<<16,c[1]=v[2]^v[7]>>>16^v[5]<<16,c[2]=v[4]^v[1]>>>16^v[7]<<16,c[3]=v[6]^v[3]>>>16^v[1]<<16;for(var h=0;h<4;h++)c[h]=(c[h]<<8|c[h]>>>24)&16711935|(c[h]<<24|c[h]>>>8)&4278255360,u[d+h]^=c[h]},blockSize:128/32,ivSize:64/32});function g(){for(var u=this._X,d=this._C,v=0;v<8;v++)f[v]=d[v];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<f[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<f[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<f[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<f[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<f[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<f[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<f[6]>>>0?1:0)|0,this._b=d[7]>>>0<f[7]>>>0?1:0;for(var v=0;v<8;v++){var h=u[v]+d[v],_=h&65535,E=h>>>16,l=((_*_>>>17)+_*E>>>15)+E*E,x=((h&4294901760)*h|0)+((h&65535)*h|0);i[v]=l^x}u[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,u[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,u[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,u[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,u[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,u[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,u[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,u[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}n.Rabbit=o._createHelper(s)}(),t.Rabbit})}(Ft)),Ft.exports}var $t={exports:{}},xn;function fs(){return xn||(xn=1,function(e,r){(function(t,n,a){e.exports=n(V(),Be(),Ke(),Te(),Z())})(K,function(t){return function(){var n=t,a=n.lib,o=a.StreamCipher,p=n.algo,c=[],f=[],i=[],s=p.RabbitLegacy=o.extend({_doReset:function(){var u=this._key.words,d=this.cfg.iv,v=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],h=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var _=0;_<4;_++)g.call(this);for(var _=0;_<8;_++)h[_]^=v[_+4&7];if(d){var E=d.words,l=E[0],x=E[1],m=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360,C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=m>>>16|C&4294901760,P=C<<16|m&65535;h[0]^=m,h[1]^=S,h[2]^=C,h[3]^=P,h[4]^=m,h[5]^=S,h[6]^=C,h[7]^=P;for(var _=0;_<4;_++)g.call(this)}},_doProcessBlock:function(u,d){var v=this._X;g.call(this),c[0]=v[0]^v[5]>>>16^v[3]<<16,c[1]=v[2]^v[7]>>>16^v[5]<<16,c[2]=v[4]^v[1]>>>16^v[7]<<16,c[3]=v[6]^v[3]>>>16^v[1]<<16;for(var h=0;h<4;h++)c[h]=(c[h]<<8|c[h]>>>24)&16711935|(c[h]<<24|c[h]>>>8)&4278255360,u[d+h]^=c[h]},blockSize:128/32,ivSize:64/32});function g(){for(var u=this._X,d=this._C,v=0;v<8;v++)f[v]=d[v];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<f[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<f[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<f[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<f[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<f[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<f[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<f[6]>>>0?1:0)|0,this._b=d[7]>>>0<f[7]>>>0?1:0;for(var v=0;v<8;v++){var h=u[v]+d[v],_=h&65535,E=h>>>16,l=((_*_>>>17)+_*E>>>15)+E*E,x=((h&4294901760)*h|0)+((h&65535)*h|0);i[v]=l^x}u[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,u[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,u[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,u[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,u[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,u[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,u[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,u[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}n.RabbitLegacy=o._createHelper(s)}(),t.RabbitLegacy})}($t)),$t.exports}(function(e,r){(function(t,n,a){e.exports=n(V(),Fr(),Ho(),Fo(),Be(),$o(),Ke(),t0(),Hn(),Lo(),Fn(),Go(),zo(),qo(),n0(),Wo(),Te(),Z(),Yo(),Xo(),Qo(),Zo(),Jo(),es(),rs(),ts(),ns(),as(),is(),os(),ss(),us(),cs(),fs())})(K,function(t){return t})})(Mn);var ls=Mn.exports;Object.defineProperty(Hr,"__esModule",{value:!0});Hr.Hasher=void 0;var vs=ls;class ds{static obtainExperimentHashDouble({visitorCode:r,campaignId:t,respoolTime:n}){let a="";return n.length&&n.forEach(o=>{a+=String(o.value)}),this.calculateHash(r+t+a)}static obtainFeatureFlagHashDouble({visitorCode:r,campaignId:t,respoolTime:n}){let a="";return n&&(a+=String(n)),this.calculateHash(r+t+a)}static calculateHash(r){const t=(0,vs.SHA256)(r).toString();return parseInt(t,16)/Math.pow(2,256)}}Hr.Hasher=ds;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Hasher",{enumerable:!0,get:function(){return r.Hasher}});var r=Hr})(Vn);var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.Variation=void 0;var xs=te;function hs(e,r,t){return r=ps(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ps(e){var r=gs(e,"string");return typeof r=="symbol"?r:String(r)}function gs(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class ms{constructor(r){hs(this,"variationData",void 0),this.variationData=r}get id(){if(!this.variationData)throw new Error("Internal usage error: Check if the variation `isValid`, before getting it's `id`");return this.variationData.variationId}isValid(r){const t=this.variationData;if(!t)return!1;if(r!=null&&r.length){const n=new Date(Date.parse(t.assignmentDate)).getTime()/xs.Milliseconds.Second,a=r.find(o=>o.variationId===String(t.variationId));return a?n>a.value:!0}return!0}}$r.Variation=ms;Object.defineProperty(Mr,"__esModule",{value:!0});Mr.VariationConfiguration=void 0;var pe=ae,Lt=Vn,_s=$r,Pe=ye,hn=e0,pn=ce;const bs=["exposition"];function gn(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function mn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?gn(Object(t),!0).forEach(function(n){pr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gn(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ys(e,r){if(e==null)return{};var t=Es(e,r),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Es(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function pr(e,r,t){return r=Cs(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Cs(e){var r=Ss(e,"string");return typeof r=="symbol"?r:String(r)}function Ss(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Ps{constructor(r,t){pr(this,"experiments",void 0),pr(this,"storage",void 0),pr(this,"getAssociatedVariationId",(n,a)=>{let o;this.storage.read().and(f=>{var i;o=(i=f==null?void 0:f[n])==null?void 0:i[a]});const p=this.experiments.find(f=>f.id===String(a));if(!p)return(0,pe.Err)(new Pe.KameleoonError(Pe.KameleoonException.ExperimentConfigurationNotFound,a,n));const c=new _s.Variation(o);return c.isValid(p==null?void 0:p.respoolTime)?(0,pe.Ok)(c.id):this.assignVariation(n,p)}),this.experiments=r,this.storage=t}getAssignedVariations(r){const t=this.storage.read();if(!t.ok)return t;const n=t.data[r];return n?(0,pe.Ok)(n):(0,pe.Err)(new Pe.KameleoonError(Pe.KameleoonException.StorageRead,r))}getFeatureFlagVariation({visitorCode:r,featureFlag:t,targetingData:n,withAssignment:a=!1}){const o=hn.Utilities.validateVisitorCode(r);if(!o.ok)return(0,pe.Err)(o.error);const{rules:p,featureKey:c,id:f,defaultVariationKey:i}=t;for(const s of p){const{segment:g,experimentId:u,id:d,exposition:v,respoolTime:h,variationByExposition:_}=s,E=hn.Utilities.checkTargeting({segment:g,visitorCode:r,experimentId:u,targetingData:n,variationConfiguration:this});if(!E.ok)return E;if(!E.data)continue;if(Lt.Hasher.obtainFeatureFlagHashDouble({visitorCode:r,respoolTime:h,campaignId:String(d)})<=v){let x=0;const m=Lt.Hasher.obtainFeatureFlagHashDouble({visitorCode:r,respoolTime:h,campaignId:String(u)});for(const C of _)if(x+=C.exposition,m<=x){s.type===pn.RuleType.EXPERIMENTATION&&a&&this.updateStorageData({visitorCode:r,experimentId:String(u),variationId:C.variationId});const S=ys(C,bs);return(0,pe.Ok)(mn(mn({},S),{},{rule:s,featureFlagId:f,featureKey:c,experimentId:u}))}}if(s.type===pn.RuleType.TARGETED_DELIVERY)break}return(0,pe.Ok)({featureKey:c,featureFlagId:f,experimentId:null,variationKey:i,variationId:null,rule:null})}getExperimentVariation(r,t){const{id:n,respoolTime:a,deviations:o}=t,p=Lt.Hasher.obtainExperimentHashDouble({visitorCode:r,campaignId:n,respoolTime:a});let c=!0,f=0,i=0;for(const s of o)if(f+=s.value,f>=p){c=!1,s.variationId!=="origin"&&(i=Number(s.variationId));break}return c?(0,pe.Err)(new Pe.KameleoonError(Pe.KameleoonException.NotAllocated,r)):(0,pe.Ok)(i)}assignVariation(r,t){const n=this.getExperimentVariation(r,t);if(!n.ok)return n;const a=this.updateStorageData({visitorCode:r,experimentId:t.id,variationId:n.data});return a.ok?(0,pe.Ok)(n.data):a}updateStorageData({visitorCode:r,experimentId:t,variationId:n}){const a=this.storage.read();if(!a.ok&&a.error.type===Pe.KameleoonException.StorageParse)return a;const o=a.ok?a.data:{},p={variationId:n,assignmentDate:new Date().toString()};return o[r]?o[r][t]=p:o[r]={[t]:p},this.storage.write(o)}}Mr.VariationConfiguration=Ps;var $n={};Object.defineProperty($n,"__esModule",{value:!0});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"FeatureFlagVariationType",{enumerable:!0,get:function(){return t.FeatureFlagVariationType}}),Object.defineProperty(e,"VariationConfiguration",{enumerable:!0,get:function(){return r.VariationConfiguration}}),Object.defineProperty(e,"VariationType",{enumerable:!0,get:function(){return t.VariationType}});var r=Mr,t=$n})(jn);Object.defineProperty(gr,"__esModule",{value:!0});gr.KameleoonClient=void 0;var Gt=ae,Os=Dn,Ts=Qt,As=Nn,Xe=q,Is=Je,M=ye,Ds=be,_n=Jt,bn=er,ee=e0,Rs=jn;function yn(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function En(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yn(Object(t),!0).forEach(function(n){Oe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yn(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Oe(e,r,t){return r=ws(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ws(e){var r=Ns(e,"string");return typeof r=="symbol"?r:String(r)}function Ns(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}let ks=class{constructor({siteCode:r,configuration:t,internalConfiguration:n}){Oe(this,"internalConfiguration",void 0),Oe(this,"variationConfiguration",void 0),Oe(this,"campaignConfiguration",void 0),Oe(this,"settings",void 0),Oe(this,"trackingCache",void 0),Oe(this,"requester",void 0);const{settings:a}=new As.ClientSettings(r,t),{externalPackageInfo:o,externalRequestDispatcher:p}=n,c=new Ds.Requester({siteCode:r,environment:a.environment,packageInfo:o,requestDispatcher:p}),f=new Os.CacheManager(Xe.CACHE_CLEANUP_TIMEOUT);this.requester=c,this.settings=a,this.trackingCache=f,this.internalConfiguration=n}async initialize(){const{externalStorage:r,externalEventSource:t,externalClientConfiguration:n,targetingDataCleanupInterval:a}=this.internalConfiguration,o=new bn.ExternalStorage(r.initialize(_n.KameleoonStorageKey.ClientData)),p=new bn.ExternalStorage(r.initialize(_n.KameleoonStorageKey.VariationData)),c=new Ts.CampaignConfiguration({settings:this.settings,storage:o,requester:this.requester,externalClientConfiguration:n,targetingCleanupInterval:a}),f=await c.initialize(t);f.throw();const i=new Rs.VariationConfiguration(c.experiments,p);return this.variationConfiguration=i,this.campaignConfiguration=c,f.ok}addData(r,...t){if(ee.Utilities.validateVisitorCode(r).throw(),!this.campaignConfiguration)throw new M.KameleoonError(M.KameleoonException.Initialization);this.campaignConfiguration.addTargetingData(r,...t).throw()}triggerExperiment(r,t){if(ee.Utilities.validateVisitorCode(r).throw(),!this.campaignConfiguration||!this.variationConfiguration)throw new M.KameleoonError(M.KameleoonException.Initialization);const n=this.campaignConfiguration.experiments.find(g=>g.id===String(t));if(!n)throw new M.KameleoonError(M.KameleoonException.ExperimentConfigurationNotFound,t,r);const a=ee.Utilities.getUserAgent(r,this.campaignConfiguration),o=ee.Utilities.getDataUrl(r,this.campaignConfiguration),p=this.campaignConfiguration.storedTargetingData[r],c={body:o,visitorCode:r,experimentId:t};let f=Xe.UNALLOCATED_VARIATION_ID,i=!0;const s=ee.Utilities.checkTargeting({visitorCode:r,experimentId:t,targetingData:p,segment:n.segment,variationConfiguration:this.variationConfiguration}).throw();if(f=this.variationConfiguration.getAssociatedVariationId(r,t).else(g=>{if(g.type===M.KameleoonException.NotAllocated)return this.requester.trackExperiment(En({isUnallocated:!0,variationId:f,userAgent:a},c)),Xe.UNALLOCATED_VARIATION_ID;throw g}),this.requester.trackExperiment(En({variationId:f,isUnallocated:i,userAgent:a},c)),!s)throw new M.KameleoonError(M.KameleoonException.NotTargeted,r);return ee.Utilities.updateCache({cacheManager:this.trackingCache,visitorCode:r,experimentId:t,variationId:f}),f}trackConversion({visitorCode:r,goalId:t,revenue:n}){this.addData(r,new Is.Conversion({goalId:t,revenue:n})),this.flushData(r)}flushData(r){if(!this.campaignConfiguration)throw new M.KameleoonError(M.KameleoonException.Initialization);const t=ee.Utilities.getDataUrl(r,this.campaignConfiguration),n=ee.Utilities.getUserAgent(r,this.campaignConfiguration);this.requester.trackData({visitorCode:r,body:t,userAgent:n})}getExperiments(){if(!this.campaignConfiguration)throw new M.KameleoonError(M.KameleoonException.Initialization);return this.campaignConfiguration.experiments.map(({id:r,name:t})=>({id:Number(r),name:t}))}getVisitorExperiments(r,t=!0){if(!this.variationConfiguration||!this.campaignConfiguration)throw new M.KameleoonError(M.KameleoonException.Initialization);ee.Utilities.validateVisitorCode(r).throw();const n=this.campaignConfiguration.experiments,a=[],o=this.campaignConfiguration.storedTargetingData[r];for(const p of n){const{id:c,name:f,segment:i}=p;if(!ee.Utilities.checkTargeting({targetingData:o,visitorCode:r,segment:i,variationConfiguration:this.variationConfiguration,experimentId:Number(c)}).throw())continue;if(!t){a.push({id:Number(c),name:f});continue}const g=this.variationConfiguration.getAssignedVariations(r);if(g.ok&&g.data[p.id]){a.push({id:Number(c),name:f});continue}this.variationConfiguration.getExperimentVariation(r,p).ok&&a.push({id:Number(c),name:f})}return a}getExperimentVariationData(r){if(!this.campaignConfiguration)throw new M.KameleoonError(M.KameleoonException.Initialization);const t=this.campaignConfiguration.experiments;for(const n of t){const a=n.variations.find(o=>o.id===String(r));if(a)try{return JSON.parse(a.customJson)}catch(o){throw new M.KameleoonError(M.KameleoonException.JSONParse,o)}}throw new M.KameleoonError(M.KameleoonException.VariationNotFound)}getFeatureFlags(){if(!this.campaignConfiguration)throw new M.KameleoonError(M.KameleoonException.Initialization);return this.campaignConfiguration.featureFlags.map(({id:r,featureKey:t})=>({id:r,key:t}))}getVisitorFeatureFlags(r){if(!this.variationConfiguration||!this.campaignConfiguration)throw new M.KameleoonError(M.KameleoonException.Initialization);const t=this.campaignConfiguration.featureFlags,n=[],a=this.campaignConfiguration.storedTargetingData[r];for(const o of t){const p=this.variationConfiguration.getFeatureFlagVariation({visitorCode:r,targetingData:a,featureFlag:o}).throw();if(p.variationKey!==Xe.OFF_VARIATION_KEY){const{featureFlagId:c,featureKey:f}=p;n.push({id:c,key:f})}}return n}getFeatureFlagVariationKey(r,t){const{variationKey:n}=this._getFeatureFlagVariation(r,t).throw();return n}getFeatureFlagVariable({visitorCode:r,featureKey:t,variableKey:n}){var f,i;const{variationKey:a}=this._getFeatureFlagVariation(r,t).throw(),p=(i=(f=this.campaignConfiguration.featureFlags.find(s=>s.featureKey===t))==null?void 0:f.variations.find(s=>s.key===a))==null?void 0:i.variables.find(s=>s.key===n);if(!p)throw new M.KameleoonError(M.KameleoonException.FeatureFlagConfigurationNotFound,t,r);return ee.Utilities.parseFeatureVariable(p).throw()}isFeatureFlagActive(r,t){return this.getFeatureFlagVariationKey(r,t)!==Xe.OFF_VARIATION_KEY}async getRemoteData(r){return(await this.requester.getRemoteData(r)).throw()}onConfigurationUpdate(r){if(!this.campaignConfiguration)throw new M.KameleoonError(M.KameleoonException.Initialization);this.campaignConfiguration.onConfigurationUpdate(r)}getEngineTrackingCode(r){return ee.Utilities.getTrackingCode(this.trackingCache,r)}_getFeatureFlagVariation(r,t){if(!this.variationConfiguration||!this.campaignConfiguration)return(0,Gt.Err)(new M.KameleoonError(M.KameleoonException.Initialization));const a=this.campaignConfiguration.featureFlags.find(g=>g.featureKey===t);if(!a)return(0,Gt.Err)(new M.KameleoonError(M.KameleoonException.FeatureFlagConfigurationNotFound,t,r));const o=this.campaignConfiguration.storedTargetingData[r],p=this.variationConfiguration.getFeatureFlagVariation({visitorCode:r,featureFlag:a,targetingData:o,withAssignment:!0}).throw(),{experimentId:c,variationId:f,rule:i}=p;typeof f=="number"&&typeof c=="number"&&ee.Utilities.updateCache({cacheManager:this.trackingCache,visitorCode:r,experimentId:c,variationId:f});const s=ee.Utilities.getUserAgent(r,this.campaignConfiguration);return i&&ee.Utilities.trackRule({visitorCode:r,requester:this.requester,featureFlagVariation:p,campaignConfiguration:this.campaignConfiguration,userAgent:s}),(0,Gt.Ok)(p)}};gr.KameleoonClient=ks;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.KameleoonUtils=void 0;var Cn=ae,se=q;let Us=class{generateRandomString(r){const t="abcdefghijklmnopqrstuvwxyz0123456789";let n="";if(r<0)return n;for(let a=0;a<r;a++)n+=t[Math.floor(Math.random()*t.length)];return n}getCookieVisitorCode(r){const t=r.split(se.Cookie.PairsDelimiter),n=t==null?void 0:t.find(a=>{const[o,p]=a.split(se.Cookie.KeyValueDelimiter);return o===se.KAMELEOON_COOKIE_KEY});if(n){const[a,o]=n.split(se.Cookie.KeyValueDelimiter);return(0,Cn.Ok)(o)}return(0,Cn.Err)()}getResultCookie({domain:r,visitorCode:t}){return[se.KAMELEOON_COOKIE_KEY+se.Cookie.KeyValueDelimiter+t,se.Cookie.MaxAge+se.Cookie.KeyValueDelimiter+31536e3,se.Cookie.Path+se.Cookie.KeyValueDelimiter+"/",se.Cookie.Domain+se.Cookie.KeyValueDelimiter+r].join(se.Cookie.PairsDelimiter)}};Lr.KameleoonUtils=Us;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Browser",{enumerable:!0,get:function(){return i.Browser}}),Object.defineProperty(e,"BrowserType",{enumerable:!0,get:function(){return i.BrowserType}}),Object.defineProperty(e,"CLEANUP_TARGETING_DATA_INTERVAL",{enumerable:!0,get:function(){return p.CLEANUP_TARGETING_DATA_INTERVAL}}),Object.defineProperty(e,"ClientGetVisitorCodeParametersType",{enumerable:!0,get:function(){return f.ClientGetVisitorCodeParametersType}}),Object.defineProperty(e,"Conversion",{enumerable:!0,get:function(){return i.Conversion}}),Object.defineProperty(e,"ConversionParametersType",{enumerable:!0,get:function(){return i.ConversionParametersType}}),Object.defineProperty(e,"Cookie",{enumerable:!0,get:function(){return o.Cookie}}),Object.defineProperty(e,"CustomData",{enumerable:!0,get:function(){return i.CustomData}}),Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return i.Device}}),Object.defineProperty(e,"DeviceType",{enumerable:!0,get:function(){return i.DeviceType}}),Object.defineProperty(e,"Environment",{enumerable:!0,get:function(){return f.Environment}}),Object.defineProperty(e,"Err",{enumerable:!0,get:function(){return c.Err}}),Object.defineProperty(e,"EventSourceOpenParametersType",{enumerable:!0,get:function(){return s.EventSourceOpenParametersType}}),Object.defineProperty(e,"ExperimentType",{enumerable:!0,get:function(){return f.ExperimentType}}),Object.defineProperty(e,"ExternalPackageInfoType",{enumerable:!0,get:function(){return f.ExternalPackageInfoType}}),Object.defineProperty(e,"FeatureFlagType",{enumerable:!0,get:function(){return f.FeatureFlagType}}),Object.defineProperty(e,"FeatureVariableResultType",{enumerable:!0,get:function(){return f.FeatureVariableResultType}}),Object.defineProperty(e,"GetClientConfigurationResultType",{enumerable:!0,get:function(){return g.GetClientConfigurationResultType}}),Object.defineProperty(e,"GetFeatureFlagVariableParamsType",{enumerable:!0,get:function(){return f.GetFeatureFlagVariableParamsType}}),Object.defineProperty(e,"Header",{enumerable:!0,get:function(){return g.Header}}),Object.defineProperty(e,"HttpMethod",{enumerable:!0,get:function(){return g.HttpMethod}}),Object.defineProperty(e,"IExternalEventSource",{enumerable:!0,get:function(){return s.IExternalEventSource}}),Object.defineProperty(e,"IExternalEventSourceConstructor",{enumerable:!0,get:function(){return s.IExternalEventSourceConstructor}}),Object.defineProperty(e,"IExternalRequestDispatcher",{enumerable:!0,get:function(){return g.IExternalRequestDispatcher}}),Object.defineProperty(e,"IExternalStorage",{enumerable:!0,get:function(){return a.IExternalStorage}}),Object.defineProperty(e,"IExternalStorageConstructor",{enumerable:!0,get:function(){return a.IExternalStorageConstructor}}),Object.defineProperty(e,"IKameleoonCore",{enumerable:!0,get:function(){return r.IKameleoonClient}}),Object.defineProperty(e,"InternalSDKConfigurationType",{enumerable:!0,get:function(){return f.InternalSDKConfigurationType}}),Object.defineProperty(e,"JSONType",{enumerable:!0,get:function(){return p.JSONType}}),Object.defineProperty(e,"KameleoonCore",{enumerable:!0,get:function(){return r.KameleoonClient}}),Object.defineProperty(e,"KameleoonCoreUtils",{enumerable:!0,get:function(){return t.KameleoonUtils}}),Object.defineProperty(e,"KameleoonDataType",{enumerable:!0,get:function(){return i.KameleoonDataType}}),Object.defineProperty(e,"KameleoonError",{enumerable:!0,get:function(){return n.KameleoonError}}),Object.defineProperty(e,"KameleoonException",{enumerable:!0,get:function(){return n.KameleoonException}}),Object.defineProperty(e,"KameleoonStorageKey",{enumerable:!0,get:function(){return a.KameleoonStorageKey}}),Object.defineProperty(e,"MobileGetVisitorCodeParametersType",{enumerable:!0,get:function(){return f.MobileGetVisitorCodeParametersType}}),Object.defineProperty(e,"Ok",{enumerable:!0,get:function(){return c.Ok}}),Object.defineProperty(e,"PageView",{enumerable:!0,get:function(){return i.PageView}}),Object.defineProperty(e,"PageViewParametersType",{enumerable:!0,get:function(){return i.PageViewParametersType}}),Object.defineProperty(e,"RealTimeEventType",{enumerable:!0,get:function(){return s.RealTimeEventType}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return c.Result}}),Object.defineProperty(e,"SDKConfigurationType",{enumerable:!0,get:function(){return f.SDKConfigurationType}}),Object.defineProperty(e,"SDKCoreParameters",{enumerable:!0,get:function(){return f.SDKCoreParameters}}),Object.defineProperty(e,"SDKType",{enumerable:!0,get:function(){return o.SDKType}}),Object.defineProperty(e,"ServerGetVisitorCodeParametersType",{enumerable:!0,get:function(){return f.ServerGetVisitorCodeParametersType}}),Object.defineProperty(e,"TrackConversionParamsType",{enumerable:!0,get:function(){return f.TrackConversionParamsType}}),Object.defineProperty(e,"TrackParametersType",{enumerable:!0,get:function(){return g.TrackParametersType}}),Object.defineProperty(e,"VISITOR_CODE_LENGTH",{enumerable:!0,get:function(){return o.VISITOR_CODE_LENGTH}}),Object.defineProperty(e,"VariableType",{enumerable:!0,get:function(){return f.VariableType}});var r=gr,t=Lr,n=ye,a=Jt,o=q,p=Qt,c=ae,f=te,i=Je,s=Zt,g=be})(ke);var Gr={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.StorageConstructor=void 0;var Se=ke;function Bs(e,r,t){return r=Ks(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ks(e){var r=js(e,"string");return typeof r=="symbol"?r:String(r)}function js(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Vs{initialize(r){return new Ms(r)}}zr.StorageConstructor=Vs;class Ms{constructor(r){Bs(this,"storageKey",void 0),this.storageKey=r}get key(){return this.storageKey}read(){const r=localStorage.getItem(this.storageKey);return r?(0,Se.Ok)(r):(0,Se.Err)(new Se.KameleoonError(Se.KameleoonException.StorageRead,this.storageKey))}write(r){try{return localStorage.setItem(this.storageKey,r),(0,Se.Ok)()}catch(t){return(0,Se.Err)(new Se.KameleoonError(Se.KameleoonException.StorageWrite,t))}}}var qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.RequestDispatcher=void 0;var Sn=ke;class Hs{async track({url:r,headers:t,body:n}){return(await fetch(r,{method:Sn.HttpMethod.Post,headers:t,body:n})).ok}async get(r){return(await fetch(r,{method:Sn.HttpMethod.Get})).json()}}qr.RequestDispatcher=Hs;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.EventSourceConstructor=void 0;function Fs(e,r,t){return r=$s(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function $s(e){var r=Ls(e,"string");return typeof r=="symbol"?r:String(r)}function Ls(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Gs{initialize(r){return new zs(r)}}Wr.EventSourceConstructor=Gs;class zs{constructor(r){Fs(this,"eventSource",void 0);const t=new EventSource(r);this.eventSource=t}open({siteCode:r,eventType:t,onEvent:n}){this.eventSource.addEventListener(t,a=>{const o=JSON.parse(a.data),{siteCode:p,ts:c}=o;r===p&&n(c)})}close(){this.eventSource.close()}}Object.defineProperty(Gr,"__esModule",{value:!0});Gr.KameleoonClient=void 0;var Pn=ke,qs=zr,Ws=qr,Ys=Wr;class Xs extends Pn.KameleoonCore{constructor(r,t){const n=new qs.StorageConstructor,a=new Ys.EventSourceConstructor,o=new Ws.RequestDispatcher;super({siteCode:r,configuration:t,internalConfiguration:{externalStorage:n,externalEventSource:a,externalRequestDispatcher:o,externalPackageInfo:{type:Pn.SDKType.JavaScript,version:"1.3.1"}}})}}Gr.KameleoonClient=Xs;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.KameleoonUtils=void 0;var zt=ke;class Qs extends zt.KameleoonCoreUtils{getVisitorCode({domain:r,defaultVisitorCode:t}){const n=document.cookie,a=this.getCookieVisitorCode(n);if(a.ok&&a.data)return a.data;const o=t||this.generateRandomString(zt.VISITOR_CODE_LENGTH);return this.getResultCookie({domain:r,visitorCode:o}).split(zt.Cookie.PairsDelimiter).forEach(c=>{document.cookie=c}),o}}class Zs{static getVisitorCode(r,t){return new Qs().getVisitorCode({domain:r,defaultVisitorCode:t})}}Yr.KameleoonUtils=Zs;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var r={KameleoonClient:!0,KameleoonUtils:!0};Object.defineProperty(e,"KameleoonClient",{enumerable:!0,get:function(){return n.KameleoonClient}}),Object.defineProperty(e,"KameleoonUtils",{enumerable:!0,get:function(){return a.KameleoonUtils}});var t=ke;Object.keys(t).forEach(function(o){o==="default"||o==="__esModule"||Object.prototype.hasOwnProperty.call(r,o)||o in e&&e[o]===t[o]||Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[o]}})});var n=Gr,a=Yr})(Xt);const Js="dhqz9s1tb6",dr="bouncing_ball_demo",xr=Xt.KameleoonUtils.getVisitorCode("www.example.com"),hr={ballOneColor:"ball_one_color",ballTwoColor:"ball_two_color",ballOneParameters:"ball_one_parameters",ballTwoParameters:"ball_two_parameters"},Qe=new Xt.KameleoonClient(Js);async function eu(){await Qe.initialize();const e=Qe.getFeatureFlagVariable({visitorCode:xr,featureKey:dr,variableKey:hr.ballOneParameters}).value,r=Qe.getFeatureFlagVariable({visitorCode:xr,featureKey:dr,variableKey:hr.ballTwoParameters}).value,t=Qe.getFeatureFlagVariable({visitorCode:xr,featureKey:dr,variableKey:hr.ballOneColor}).value,n=Qe.getFeatureFlagVariable({visitorCode:xr,featureKey:dr,variableKey:hr.ballTwoColor}).value,a=document.getElementById("app"),o=document.createElement("div"),p=document.createElement("div");o.id="ball-1",p.id="ball-2",o.style.backgroundColor=t,p.style.backgroundColor=n,a.appendChild(o),a.appendChild(p),qt(o,e),qt(p,r)}eu();
